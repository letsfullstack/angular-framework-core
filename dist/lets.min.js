!function(){"use strict";var e={navy:"#001f3f",blue:"#0074D9",aqua:"#7FDBFF",teal:"#39CCCC",olive:"#3D9970",green:"#2ECC40",lime:"#01FF70",yellow:"#FFDC00",orange:"#FF851B",red:"#FF4136",maroon:"#85144b",fuchia:"#F012BE",purple:"#B10DC9",black:"#111111",gray:"#AAAAAA",white:"#FFFFFF"},t=function(t,a,n){return{restrict:"A",require:"ngModel",scope:{changeColor:"&",tinyTrigger:"@",colorMe:"@",ngModel:"=",setColors:"@"},link:function(i,o,l,r){var s=0,c="";if(i.setColors)i.setColors=JSON.parse(i.setColors),i.setColors.forEach(function(t){0==s?(c+='<div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker '+t+'"color="'+e[t]+'"></cp-color>',s++):3==s?(c+='<cp-color class="color-picker '+t+'"color="'+e[t]+'"></cp-color></div></div>',s=0):(c+='<cp-color class="color-picker '+t+'"color="'+e[t]+'"></cp-color>',s++)},this);else for(var d in e)0==s?(c+='<div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker '+d+'"color="'+e[d]+'"></cp-color>',s++):3==s?(c+='<cp-color class="color-picker '+d+'"color="'+e[d]+'"></cp-color></div></div>',s=0):(c+='<cp-color class="color-picker '+d+'"color="'+e[d]+'"></cp-color>',s++);var u,f,p,m,g,h='<div class="color-picker-wrapper body hide">',b='<div class="color-picker-wrapper">',v='<div class="color-picker-wrapper picker-icon"><div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker navy"></cp-color><cp-color class="color-picker blue"></cp-color><cp-color class="color-picker aqua"></cp-color><cp-color class="color-picker teal"></cp-color></div></div><div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker olive"></cp-color><cp-color class="color-picker green"></cp-color><cp-color class="color-picker lime"></cp-color><cp-color class="color-picker yellow"></cp-color></div></div><div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker orange"></cp-color><cp-color class="color-picker red"></cp-color><cp-color class="color-picker maroon"></cp-color><cp-color class="color-picker fuchia"></cp-color></div></div><div class="color-picker-row-wrapper"><div class="color-picker-row"><cp-color class="color-picker purple"></cp-color><cp-color class="color-picker black"></cp-color><cp-color class="color-picker gray"></cp-color><cp-color class="color-picker white"></cp-color></div></div></div>';g=function(e){if(e.previousElementSibling)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e},m=function(e,t){for(var a=!1;void 0!==e.parent()&&a===!1;)e.parent().hasClass(t)&&(a=!0),e=e.parent();return e},void 0!==i.tinyTrigger&&"true"===i.tinyTrigger?(v=v.replace("picker-icon","picker-icon trigger"),f=t(v)(i),o.replaceWith(f),c=h+c,p=angular.element(c),p.find("cp-color").on("click",function(e){r.$setViewValue(angular.element(e.target).attr("color"))}),angular.element(document.body).append(p),f.bind("click",function(e){if(0==angular.element(e.target).prop("readonly")){var t=m(angular.element(e.target),"color-picker-wrapper"),a=t[0].getBoundingClientRect().top,i=t[0].getBoundingClientRect().height;a+=n.pageYOffset,p.removeClass("hide"),p[0].style.top=a+i+"px",p[0].style.left=t[0].getBoundingClientRect().left+"px",e.stopPropagation()}})):"INPUT"===o[0].tagName?(c=h+c,p=angular.element(c),p.find("cp-color").on("click",function(e){var t=angular.element(e.target).attr("color");r.$setViewValue(t),void 0!==i.colorMe&&"true"===i.colorMe?o[0].style.backgroundColor=t:o.val(t)}),i.$watch("ngModel",function(e,t){var a=e;void 0!=a&&void 0!==i.colorMe&&"true"===i.colorMe&&(o[0].style.backgroundColor=a,o[0].value="")}),angular.element(document.body).append(p),o.bind("click",function(e){if(0==angular.element(e.target).prop("readonly")){var t=e.target.getBoundingClientRect().top,a=e.target.getBoundingClientRect().height;t+=n.pageYOffset,p.removeClass("hide"),p[0].style.top=t+a+"px",p[0].style.left=e.target.getBoundingClientRect().left+"px",e.stopPropagation()}}),f=t(v)(i),o.after(f),f.bind("click",function(e){var t=m(angular.element(e.target),"color-picker-wrapper"),a=g(t[0]),i=a.getBoundingClientRect().top,o=a.getBoundingClientRect().height;i+=n.pageYOffset,p.removeClass("hide"),p[0].style.top=i+o+"px",p[0].style.left=a.getBoundingClientRect().left+"px",e.stopPropagation()}),t(u)(i)):(c=b+c,p=t(c)(i),o.replaceWith(p),p.find("cp-color").on("click",function(e){r.$setViewValue(angular.element(e.target).attr("color")),e.stopPropagation()})),a.bind("click",function(e){var t,n=a.find("body").children();for(t=0;t<n.length;t++)n[t].getAttribute("class")&&-1!==n[t].getAttribute("class").indexOf("color-picker-wrapper body")&&angular.element(n[t]).addClass("hide")})}}};angular.module("colorpicker-dr",[]).directive("colorPicker",["$compile","$document","$window",t])}(),function(){"use strict";function e(){this.headers={};this.set=function(e,t){this.headers[e]=t},this.get=function(e){if(this.headers[e].findLabel=function(e){for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a.label}},this.headers[e].get=function(e){for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a}},this.headers[e].tabs)for(var t in this.headers[e].tabs)this.headers[e].tabs[t].get=function(e){if(!this.fields||!this.fields.length)return null;for(var t in this.fields){var a=this.fields[t];if(a.name==e)return a}};return this.headers[e]},this.$get=function(){return this}}function t(e,t){}var a=angular.module("letsAngular",["ui.router","ngAnimate","ui.bootstrap","angular.viacep","ngCpfCnpj","ui.mask","ui.jq","ui.event","ngFileUpload","moment-filter","checklist-model","ui.toggle","ngSanitize","colorpicker-dr","ckeditor","thatisuday.dropzone","swangular","colorpicker.module","angularjs-dropdown-multiselect"]);a.config(t),a.provider("headers",e),t.$inject=["$stateProvider","$httpProvider"]}(),function(){"use strict";function e(){var e=this;return e._placeholderList=["paciente"],e._placeholderAttr=["nome"],e.removeAccents=function(e){var t="ÀÁÂÃÄÅàáâãäåßÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž",a="AAAAAAaaaaaaBOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";e=e.split("");var n,i,o=e.length;for(n=0;o>n;n++)-1!=(i=t.indexOf(e[n]))&&(e[n]=a[i]);return e.join("")},e._removeSpecialChars=function(e){var t="!@#$%*()-_+=/.,:;?[{]}`~^|";e=e.split("");var a,n=e.length;for(a=0;n>a;a++)-1!=t.indexOf(e[a])&&(e[a]="");return e.join("")},e.lemmatize=function(t){return t=e.removeAccents(t),e._removeSpecialChars(t)},e.changePlaceholders=function(t,a){return e._placeholderList.forEach(function(n,i){if(a[n]){var o="["+n.toUpperCase()+"]";if(-1!==t.indexOf(o)){var l=t.split(o),r="",s=l.length;l.forEach(function(t,o){r+=t,s-1>o&&(r+=a[n][e._placeholderAttr[i]])}),t=r}}}),t},{removeAccents:e.removeAccents,lemmatize:e.lemmatize,changePlaceholders:e.changePlaceholders}}angular.module("letsAngular").service("utilsStringService",e),e.inject=[]}(),function(){"use strict";function e(e,t,a,n){var i=this;return i._printHTML=function(e){var t=$("<iframe></iframe>").appendTo("body")[0];t.contentWindow.printAndRemove=function(){t.contentWindow.print(),setTimeout(function(){$(t).remove()},3e3)};var a='<!doctype html><html><body onload="printAndRemove();">'+e+"</body></html>",n=t.contentWindow.document.open("text/html","replace");n.write(a),n.close()},i.print=function(o,l){moment.locale("pt-br");var r=angular.extend(t.$new(),l);e(o).then(function(e){var t=a($("<div>"+e+"</div>"))(r),o=function(){r.$$phase?n(o):(i._printHTML(t.html()),r.$destroy())};o()})},{print:i.print}}e.$inject=["$templateRequest","$rootScope","$compile","$timeout"],angular.module("letsAngular").service("utilsPrintService",e),e.inject=["$templateRequest","$rootScope","$compile","$timeout"]}(),function(){"use strict";function e(){var e=this;return e.convertObjSearch=function(e,t){var a={};return Object.keys(e).forEach(function(n){if(e[n])if("object"==typeof e[n]){var i={};Object.keys(e[n]).forEach(function(a){if("createdAt"!==a&&"updatedAt"!==a){var o=a;"id"!==a&&(o="label"),"label"===o&&t&&n===t.relation?i.label=e[n][t.label]:i[o]=e[n][a]}}),a[n+".label"]=i,a[n]=i.id}else-1===n.indexOf("id")&&"createdAt"!==n&&"updatedAt"!==n&&(a[n]=e[n])}),a},e.convertObjLabels=function(e){return e.forEach(function(e){Object.keys(e).forEach(function(t){if("object"==typeof e[t]){var a=t.split(".")[0];"label"===t.split(".")[1]&&(e[a]=angular.copy(e[t]),delete e[t])}})}),e},e.setInputsFromObject=function(e){Object.keys(e).forEach(function(t){if(e[t]&&-1===t.indexOf("hashKey")&&"id"!==t&&"createdAt"!==t&&"updatedAt"!==t){var a=angular.element("#"+t).scope();void 0===a&&-1!==t.indexOf("label")&&(a=angular.element("#"+t.split(".")[0]).scope()),a&&(a.field.autocomplete?"object"==typeof e[t]&&(e[t].label||(e[t].label=e[t].nome),a.$parent.data[t]=e[t].label,a.$parent.data[t+".label"]=e[t]):a.$parent.data[t]=e[t])}})},{convertObjSearch:e.convertObjSearch,convertObjLabels:e.convertObjLabels,setInputsFromObject:e.setInputsFromObject}}angular.module("letsAngular").service("utilsObjectService",e),e.inject=[]}(),function(){"use strict";function e(){var e=this;return e.getDiffDuration=function(e,t,a){moment.isMoment(e)||(e=moment(e)),moment.isMoment(t)||(t=moment(t));var n=moment.duration(e.diff(t));switch(a){case"day":return n.asDays();case"hour":return n.asHours();case"minute":return n.asMinutes();case"second":return n.asSeconds();case"week":return n.asWeeks();case"month":return n.asMonths();case"year":return n.asYears();default:return n.asMilliseconds()}},{getDiffDuration:e.getDiffDuration}}angular.module("letsAngular").service("utilsDateTimeService",e),e.inject=[]}(),function(){"use strict";function e(){var e=this;return e._getFilledFilterAttr=function(e,t){var a={radios:[],checkboxes:[]};return Object.keys(e).forEach(function(t){null!==e[t]&&a.radios.push(t)}),Object.keys(t).forEach(function(e){t[e].length>0&&a.checkboxes.push(e)}),a},e._findCheckAttr=function(e,t){var a=null;return Object.keys(t).forEach(function(n){n===e&&(a=t[n])}),a},e.filterList=function(t,a,n,i,o,l){var r=t.slice(0),s=Object.keys(l).length,c=e._getFilledFilterAttr(a,i),d="neutral";c.checkboxes.forEach(function(e){i[e].length>o[e].length?d="add":i[e].length<o[e].length&&(d="reduce")}),"add"===d&&(r=t.slice(0),d="reduce");var u=[],f=c.checkboxes.length!==s;return f&&r.forEach(function(e,t){e.multiple&&-1===u.indexOf(t)&&u.unshift(t)}),r.forEach(function(t,o){if(t.multiple&&!f)c.checkboxes.forEach(function(a){if("reduce"===d&&i[a].length!==n[a].length){var r=!1,s=e._findCheckAttr(a,l);i[a].forEach(function(e){t[a][s]===e&&(r=!0)}),r||-1===u.indexOf(o)&&u.unshift(o)}});else{var r=!1;c.radios.forEach(function(e){r||(a[e]&&t.label===e?r=!0:a[e]||t.label!==e||(r=!1))}),r||-1===u.indexOf(o)&&u.unshift(o)}}),u.forEach(function(e){r.splice(e,1)}),r.sort(function(e,t){return moment(t.inicio).diff(moment(e.inicio),"seconds")}),r},e.orderList=function(e,t){var a=!1;return Object.keys(e[0]).forEach(function(e){t===e&&(a=!0)}),a?e.sort(function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0}):e},e.getMinMaxValues=function(e,t,a,n,i,o,l){var r={x:l[0][t],y:l[0][i]},s={x:l[0][t],y:l[0][i]};return l.forEach(function(e){e[t]<r.x&&(r.x=e[t]),e[t]>s.x&&(s.x=e[t]),e[i]<r.y&&(r.y=e[i]),e[i]>s.y&&(s.y=e[i])}),"date"===e?(r.x=new Date(moment(r.x).subtract(a,"day").format("MM/DD/YYYY")),s.x=new Date(moment(s.x).add(a,"day").format("MM/DD/YYYY"))):(r.x-=a,s.x+=a),"date"===n?(r.y=new Date(moment(r.y).subtract(o,"day").format("MM/DD/YYYY")),s.y=new Date(moment(s.y).add(o,"day").format("MM/DD/YYYY"))):(r.y-=o,s.y+=o),{min:r,max:s}},{filterList:e.filterList,orderList:e.orderList,getMinMaxValues:e.getMinMaxValues}}angular.module("letsAngular").service("utilsComparatorService",e),e.inject=[]}(),function(){"use strict";function e(e,t,a){var n=this;return n._createModal=function(t){return e.open(t).result},n.createCRUDModal=function(e,a,i,o,l){return n._createModal({animation:!0,templateUrl:o||"lets/views/crud/crud-modal.html",controller:i||"CRUDFormModalController",resolve:{headers:function(){return e.parentScope=l,e},data:function(){try{var e=angular.copy(a)}catch(n){var e=t.extend({},a)}return e},parentScope:l},size:"lg",backdrop:"static",keyboard:!1,windowClass:e.modal_id?"modal-"+e.modal_id:""})},n.hide=function(){a.$emit("cancel-modal")},{createModal:n._createModal,createCRUDModal:n.createCRUDModal,hide:n.hide}}e.$inject=["$modal","jQuery","$rootScope"],angular.module("letsAngular").service("fwModalService",e),e.inject=["$modal","jQuery","$rootScope"]}(),function(){"use strict";function e(e){var t=this;return t.emitFormErrors=function(t){var a=[],n=Object.keys(t.$error),i=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;for(var o in n){var l=t.$error[n[o]];for(var r in l){var s=l[r].$options.fieldInfo.label;"required"==n[o]?a.push("O campo "+s+" é obrigatório"):"date"==n[o]&&0==i.test(l[r].$viewValue)&&a.push("O campo "+s+" está com uma data inválida")}}a.length>0&&e.warning(a.join("<br />"))},{emitFormErrors:t.emitFormErrors}}e.$inject=["ngToast"],angular.module("letsAngular").service("fwErrorService",e),e.inject=["ngToast"]}(),function(){"use strict";function e(){var e=this;return e.configD3chart=function(e,t,a){var n=null,i={left:40,bottom:28,right:28,top:28};return a||(a={x:[],y:[0,150]}),n="multibar"===e?nv.models.multiBarChart().margin(i).color(t).yDomain(a.y):nv.models.lineChart().margin(i).color(t).xDomain(a.x).yDomain(a.y),n.xAxis.showMaxMin(!1).tickFormat(function(e){return d3.time.format("%d/%m/%y")(new Date(e))}),n.xScale(d3.time.scale()),n.yAxis.showMaxMin(!1).tickFormat(d3.format(",f")),n.tooltip.enabled(!1),n},e.configD3chartData=function(e,t,a){var n=[];return a.forEach(function(e){var t={x:new Date(moment(e.data).format("MM/DD/YYYY")),y:e.valor};n.push(t)}),[{area:e,key:t,values:n}]},e.getMockD3chartsData=function(e){return e||(e=!1),{glicemiaCapilar:[{area:e,key:"Valor",values:[{x:new Date("06/10/2017").getTime(),y:77},{x:new Date("06/17/2017").getTime(),y:70},{x:new Date("07/01/2017").getTime(),y:121},{x:new Date("07/08/2017").getTime(),y:84},{x:new Date("07/15/2017").getTime(),y:75},{x:new Date("07/22/2017").getTime(),y:80},{x:new Date("07/29/2017").getTime(),y:76},{x:new Date("08/05/2017").getTime(),y:120},{x:new Date("08/12/2017").getTime(),y:77},{x:new Date("08/19/2017").getTime(),y:85}]}],pressao:[{area:e,key:"Sistólica",values:[{x:new Date("06/10/2017").getTime(),y:125},{x:new Date("06/17/2017").getTime(),y:139},{x:new Date("07/01/2017").getTime(),y:129},{x:new Date("07/08/2017").getTime(),y:133},{x:new Date("07/15/2017").getTime(),y:134},{x:new Date("07/22/2017").getTime(),y:133},{x:new Date("07/29/2017").getTime(),y:143},{x:new Date("08/05/2017").getTime(),y:148},{x:new Date("08/12/2017").getTime(),y:139},{x:new Date("08/19/2017").getTime(),y:134}]},{area:e,key:"Diastólica",values:[{x:new Date("06/10/2017").getTime(),y:78},{x:new Date("06/17/2017").getTime(),y:75},{x:new Date("07/01/2017").getTime(),y:83},{x:new Date("07/08/2017").getTime(),y:80},{x:new Date("07/15/2017").getTime(),y:77},{x:new Date("07/22/2017").getTime(),y:79},{x:new Date("07/29/2017").getTime(),y:83},{x:new Date("08/05/2017").getTime(),y:81},{x:new Date("08/12/2017").getTime(),y:74},{x:new Date("08/19/2017").getTime(),y:81}]}],peso:[{area:e,key:"Quilos",values:[{x:new Date("06/10/2017").getTime(),y:89},{x:new Date("06/17/2017").getTime(),y:90},{x:new Date("07/01/2017").getTime(),y:89},{x:new Date("07/08/2017").getTime(),y:92},{x:new Date("07/15/2017").getTime(),y:93},{x:new Date("07/22/2017").getTime(),y:94},{x:new Date("07/29/2017").getTime(),y:93},{x:new Date("08/05/2017").getTime(),y:93},{x:new Date("08/12/2017").getTime(),y:93},{x:new Date("08/19/2017").getTime(),y:92}]}],altura:[{area:e,key:"Metros",values:[{x:new Date("06/10/2017").getTime(),y:1.76},{x:new Date("06/17/2017").getTime(),y:1.76},{x:new Date("07/01/2017").getTime(),y:1.76},{x:new Date("07/08/2017").getTime(),y:1.76},{x:new Date("07/15/2017").getTime(),y:1.76},{x:new Date("07/22/2017").getTime(),y:1.76},{x:new Date("07/29/2017").getTime(),y:1.76},{x:new Date("08/05/2017").getTime(),y:1.76},{x:new Date("08/12/2017").getTime(),y:1.76},{x:new Date("08/19/2017").getTime(),y:1.76}]}],imc:[{area:e,key:"Valor",values:[{x:new Date("06/10/2017").getTime(),y:15.3},{x:new Date("06/17/2017").getTime(),y:15.5},{x:new Date("07/01/2017").getTime(),y:15.3},{x:new Date("07/08/2017").getTime(),y:15.8},{x:new Date("07/15/2017").getTime(),y:16},{x:new Date("07/22/2017").getTime(),y:16.2},{x:new Date("07/29/2017").getTime(),y:16},{x:new Date("08/05/2017").getTime(),y:16},{x:new Date("08/12/2017").getTime(),y:16},{x:new Date("08/19/2017").getTime(),y:15.8}]}],hdlLdl:[{area:e,key:"HDL",values:[{x:new Date("06/10/2017").getTime(),y:43},{x:new Date("06/17/2017").getTime(),y:41},{x:new Date("07/01/2017").getTime(),y:42},{x:new Date("07/08/2017").getTime(),y:45},{x:new Date("07/15/2017").getTime(),y:46},{x:new Date("07/22/2017").getTime(),y:48},{x:new Date("07/29/2017").getTime(),y:44},{x:new Date("08/05/2017").getTime(),y:41},{x:new Date("08/12/2017").getTime(),y:42},{x:new Date("08/19/2017").getTime(),y:40}]},{area:e,key:"LDL",values:[{x:new Date("06/10/2017").getTime(),y:121},{x:new Date("06/17/2017").getTime(),y:130},{x:new Date("07/01/2017").getTime(),y:137},{x:new Date("07/08/2017").getTime(),y:138},{x:new Date("07/15/2017").getTime(),y:120},{x:new Date("07/22/2017").getTime(),y:122},{x:new Date("07/29/2017").getTime(),y:123},{x:new Date("08/05/2017").getTime(),y:124},{x:new Date("08/12/2017").getTime(),y:122},{x:new Date("08/19/2017").getTime(),y:120}]}]}},e.getMockD3chartsConfig=function(){return{glicemiaCapilar:e.configD3chart("line",["#092e64"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[50,130]}),pressao:e.configD3chart("line",["#092e64","#008df5"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[50,150]}),peso:e.configD3chart("line",["#092e64"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[80,100]}),altura:e.configD3chart("line",["#092e64"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[0,2]}),imc:e.configD3chart("line",["#092e64"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[12,20]}),hdlLdl:e.configD3chart("line",["#092e64","#008df5"],{x:[new Date("06/10/2017"),new Date("08/09/2017")],y:[30,150]})}},{getMockD3chartsData:e.getMockD3chartsData,getMockD3chartsConfig:e.getMockD3chartsConfig,configD3chart:e.configD3chart,configD3chartData:e.configD3chartData}}angular.module("letsAngular").service("fwChartService",e),e.inject=[]}(),function(){"use strict";function e(e,t,a,n,i,o,l,r){var s=o.API_URL,c=this;c.updateLocalStorage=function(e,t){var a=c.getUser();a[e]=t,c.setUserInfo(a)},c.setUserLb=function(e){t.setUser(e.id,e.userId,e.user),t.rememberMe=!0,t.save()},c.setUserInfo=function(e){window.localStorage.user=angular.toJson(e)},c.getUser=function(){return window.localStorage.user?JSON.parse(window.localStorage.user):!1},c.isAuthenticated=function(){return null!=t.currentUserId},c.authenticate=function(e){return i.authenticate(e).then(function(e){var t={accessToken:e.access_token};return l.post(s+"users/facebook/token",t)}).then(function(e){var t={id:e.data.id,userId:e.data.user.id,user:e.data.user};c.setUserLb(t),c.setUserInfo(e.data.user),c.removeSatellizer(),n.go("main.search")})["catch"](function(e){console.debug(e)})},c.logout=function(i){a.userLogout({accessToken:i}).$promise.then(function(a){t.clearUser(),t.clearStorage(),e.localStorage.removeItem("user"),n.go("login")})["catch"](function(a){t.clearUser(),t.clearStorage(),e.localStorage.removeItem("user"),n.go("login")})},c.getCurrentUserId=function(){return t.currentUserId},c.getCurrentUserToken=function(){return t.accessTokenId},c.removeSatellizer=function(){e.localStorage.getItem("satellizer_token")&&e.localStorage.removeItem("satellizer_token")}}e.$inject=["$window","LoopBackAuth","Usuario","$state","$auth","appSettings","$http","$q"],angular.module("letsAngular").service("fwAuthService",e),e.inject=["$window","LoopBackAuth","Usuario","$state","$auth","appSettings","$http"]}(),function(){"use strict";function e(e){return{restrict:"A",scope:!0,link:function(t,a,n){t.defaultProgress=0,t.alreadySent=!1;var i=!0;t.$on("setProgressFile",function(){void 0!=t.data[t.field.name]&&null!=t.data[t.field.name]&&t.fileName&&"fileName"!=t.fileName&&(t.defaultProgress=100,t.alreadySent=!0)}),t.pushName=function(){e(function(){if(document.getElementsByClassName("dz-filename")[0]&&i){i=!1,document.getElementsByClassName("dropzone")[0].style.width="192px",document.getElementsByClassName("file-preview")[0]&&(document.getElementsByClassName("file-preview")[0].style.display="none"),document.getElementsByName("temp_filename")[0].value=document.getElementsByClassName("dz-filename")[0].firstElementChild.innerText;var e=n.find('input[type="hidden"]');e.controller("ngModel").$setViewValue(document.getElementsByName("temp_filename")[0].value)}})},t.remove=function(){t.alreadySent=!1;var e=n.find('input[type="hidden"]');document.getElementsByName("temp_filename")[0].value=null,e.controller("ngModel").$setViewValue(null)},t.upload=function(a,i){t.f=a,t.errFile=i&&i[0],a&&(a.upload=t._upload(t.field,a),a.upload.then(function(i,o){t.$emit("upload-complete",i),e(function(){if(a.result=i.data,n.$$element)var e=n.$$element.find('input[type="hidden"]');else var e=n.find('input[type="hidden"]');a.newName=i.data.result.files.file[0].name,e.controller("ngModel").$setViewValue(a.newName)})},function(e){e.status>0&&(t.errorMsg=e.status+": "+e.data),t.$emit("upload-error",e)},function(e){a.progress=Math.min(100,parseInt(100*e.loaded/e.total))}))}}}}angular.module("letsAngular").directive("fwUpload",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return{restrict:"E",scope:{tags:"="},template:'<div class="input-group fw-input-group"><input type="text" class="form-control" placeholder="add a tag..." ng-model="newValue" /> <span class="input-group-btn"><a class="btn btn-default" ng-click="add()">Add</a></span></div><div class="tags"><div ng-repeat="(idx, tag) in tags" class="tag label label-success">{{tag}} <a class="close" href ng-click="remove(idx)">×</a></div></div>',link:function(e,t){null==e.tags&&(e.tags=[]);var a=angular.element(t).find("input");e.autocomplete,e.add=function(){-1==e.tags.indexOf(e.newValue)&&e.tags.push(e.newValue),e.newValue=""},e.remove=function(t){e.tags.splice(t,1)},a.bind("keypress",function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),e.$apply(e.add))})}}}angular.module("letsAngular").directive("fwTags",e),e.$inject=[]}(),function(){"use strict";angular.module("letsAngular").directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,a,n){function i(e){if(e){var t=e.replace(/[^0-9]/g,"");return t!==e&&(n.$setViewValue(t),n.$render()),t}return void 0}n.$parsers.push(i)}}})}(),function(){"use strict";function e(e,t,a){return{restrict:"A",priority:1,link:function(e,t){e.dataReference=$(t)},controller:["$scope","$state",function(e,n){e.initMultiSelect=!1,e.msmodel=[],e.filter={},e.msdata=[],e.setting={};var i="";e.$on("filter-init",function(t){var a=t.targetScope.data||void 0,n=$(e.dataReference).attr("data-reference")||void 0;i=n,n&&a&&(e.msmodel=angular.copy(a[n])||[])}),e.changedMultiSelect=function(t){e.msmodel.length?angular.element(".fw-multiselect-button").css("color","#555555"):angular.element(".fw-multiselect-button").css("color","#CCC")},e.onItemSelect=function(t,a){e.data[i]=e.msmodel;var n=e.msdata.find(function(e){return e.id==t.id});t.label=n.label},e.onItemDeselect=function(e){},e.removeDuplicates=function(e,t){return e.filter(function(e,a,n){return n.map(function(e){return e[t]}).indexOf(e[t])===a})},e.makeRequestAutocomplete=function(n,i,o,l){t(function(){i||(i="[blank]");var r=l?"general/":"";e.resource=a.all(e.route()),e.resource.customGET(r+"autocomplete/"+o+"/"+i+"?limit=10").then(function(a){n.options=e.removeDuplicates(a.concat(n.selectedModel),"id"),t(function(){},0)},function(){})})},e._debounce=function(e){var t=null;return function(a){t&&clearTimeout(t),t=setTimeout(function(){e(a)},200)}},e.openDropdownByButton=function(e){t(function(){$('[data-reference="'+e+'"] button').click()})},e.onInitMulti=function(t,a){var n=$(t.target);n.scope().input.searchFilter="";var i=a.customOptions.general?a.customOptions.general:a.name,o=a.customOptions.general?!0:!1;if(!n.initMultiSelect){var l=n.scope();n.initMultiSelect=!0,e.makeRequestAutocomplete(l,"[blank]",i,o),n.parent().find(".dropdown-header").append('<i class="glyphicon glyphicon-search" style=" position: absolute; top: 20px; right: 35px; "></i>'),l.$watch("input.searchFilter",e._debounce(function(t){e.makeRequestAutocomplete(l,t,i,o)})),l.texts.buttonDefaultText="Selecione "+a.label,l.texts.searchPlaceholder="Buscar "+a.label,l.texts.dynamicButtonTextSuffix="selecionado(s)",l.externalEvents.onItemSelect=e.onItemSelect,l.externalEvents.onSelectionChanged=e.changedMultiSelect,l.externalEvents.onItemDeselect=e.onItemDeselect}},e.mssettings={scrollableHeight:"200px",scrollable:!0,buttonDefaultText:"Tipos de imóveis",enableSearch:!0,styleActive:!0,showCheckAll:!1,showUncheckAll:!1,selectedToTop:!0,buttonClasses:"btn btn-default fw-multiselect-button"}}]}}angular.module("letsAngular").directive("fwMultiSelect",e),e.$inject=["$compile","$timeout","Restangular","$state"]}(),function(){"use strict";function e(e,t,a,n,i){return{restrict:"E",scope:!0,templateUrl:"lets/views/framework/input.html",replace:!0,link:{pre:function(t,o,l,r){var s=o.attr("fw-data");if(void 0==t.field.customOptions.events&&(t.field.customOptions.events={}),t.fieldHtml=function(){return i.trustAsHtml(t.field.toString())},"data"!=s&&(t.data=t[s]),"detail_data"==s){var c=t.detail_key;t.field.autocomplete!==!1&&(t.autocomplete=function(e,a){return t.autocompleteDetail(c,e,a)},t.autocompleteSelect=function(e,a,n){return t.autocompleteDetailSelect(c,e,a,n)}),void 0!=t.field.customOptions.file&&(t.download=function(e,a){return t.downloadDetail(c,e,a,t.data)})}if(void 0!=t.field.customOptions.cep)o.find("input.main-input").blur(function(){var a=angular.element(this).scope();e.get(this.value).then(function(e){var n=a.field.customOptions.cep;a.data[n.address]=e.logradouro,a.data[n.district]=e.bairro,a.data[n.city]=e.localidade,a.data[n.state]=e.uf,t.$$phase||t.$apply()})});else if(void 0!=t.field.customOptions.multiple&&1==t.field.customOptions.multiple){a(o.contents())(t)}n(o).on("blur",":input[ng-model]",function(e){try{void 0!=angular.element(this).scope().field.customOptions.events.blur&&angular.element(this).scope().field.customOptions.events.blur.call(this,e)}catch(e){}}),t.isEmpty=function(e){return Object.keys(e).length}}}}}angular.module("letsAngular").directive("fwInput",e),e.$inject=["viaCEP","$timeout","$compile","jQuery","$sce"]}(),function(){"use strict";function e(e,t,a,n){return{restrict:"E",scope:!0,templateUrl:"lets/views/framework/input-detail.html",replace:!0,link:{post:function(e,t,a,n){}}}}angular.module("letsAngular").directive("fwInputDetail",e),e.$inject=["viaCEP","$timeout","$compile","jQuery"]}(),function(){"use strict";function e(e,t,a,n,i){return{restrict:"A",link:{post:function(a,i,o,l){if(l||(l=i.controller("ngModel")),"date"==a.field.type)i.mask("99/99/9999");else if(void 0!=a.field.customOptions.cpf)i.mask("999.999.999-99");else if(void 0!=a.field.customOptions.cnpj)i.mask("99.999.999/9999-99");else if(void 0!=a.field.customOptions.customMask)i.mask(a.field.customOptions.customMask);else if("float"==a.field.type)void 0!=a.field.customOptions.currency&&(i.mask("#.##0,00",{reverse:!0}),l.$parsers.unshift(function(e){return parseFloat(i.cleanVal(),10)/100}),l.$formatters.unshift(function(e){return i.masked(e?parseFloat(e).toFixed(2):null)}));else if(void 0!==a.field.customOptions.documento){var r=function(e){return e.replace(/\D/g,"").length>=12?"00.000.000/0000-00":"000.000.000-009"},s={onKeyPress:function(e,t,a,n){a.mask(r.apply({},arguments),n)}};t(function(){i.mask(r,s)},10)}else if(void 0!=a.field.customOptions.telefone){var c=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},d={onKeyPress:function(e,t,a,n){a.mask(c.apply({},arguments),n)}};t(function(){i.mask(c,d)},100)}else void 0!=a.field.customOptions.cep&&i.blur(function(){if(!this.value)return!1;var t=angular.element(this).scope();n(this).parent().attr("fw-data");e.get(this.value).then(function(e){var a=t.field.customOptions.cep;t.data[a.address]=e.logradouro,t.data[a.district]=e.bairro,t.data[a.city]=e.localidade,t.data[a.state]=e.uf,t.data[a.ibge]=e.ibge,t.data[a.gia]=e.gia,t.$emit("viacep complete",e)})})}}}}angular.module("letsAngular").directive("fwDynamic",e),e.$inject=["viaCEP","$timeout","$compile","jQuery","$filter"]}(),function(){"use strict";function e(e,t,a,n,i){return{restrict:"E",scope:!0,template:'<span" ng-bind-html="formatData(detail_data, field)"></span>',replace:!0,link:{pre:function(t,a,n,o){t.formatData=function(t,a){if(a.autocomplete!==!1)return t[a.name+".label"]?t[a.name+".label"].label||t[a.name+".label"]:null;if("date"==a.type)return a.customOptions.hour?moment(t[a.name]).format("DD/MM/YYYY HH:mm"):moment(t[a.name]).format("DD/MM/YYYY");if("time"==a.type)return moment(t[a.name]).format("HH:mm");if("boolean"!=a.type){if("string"==a.type&&a.customOptions.file){var n=e.appSettings.API_URL+"upload/"+a.customOptions.file.container+"/download/"+t[a.name];return i.trustAsHtml('<a target="_blank" href="'+n+'" class="btn btn-default ng-scope" style=""><i class="glyphicon glyphicon-download"></i></a>')}if("float"==a.type){if(a.customOptions&&a.customOptions.currency){var o=t[a.name],o=o.toFixed(2).split(".");return o[0]="R$ "+o[0].split(/(?=(?:...)*$)/).join("."),o.join(",")}return t[a.name]}if("custom"==a.type){var l=a.toString({attributes:t});return l&&l[0]&&l[0].outerHTML?i.trustAsHtml(l[0].outerHTML):""}return t[a.name]}return a.customOptions.statusFalseText&&a.customOptions.statusTrueText?t[a.name]?a.customOptions.statusTrueText:a.customOptions.statusFalseText:void 0}}}}}angular.module("letsAngular").directive("fwDetailData",e),e.$inject=["$rootScope","$timeout","$compile","jQuery","$sce"]}(),function(){"use strict";function e(e,t){var a="vm";return{restrict:"A",require:"?ngModel",scope:!0,terminal:!0,priority:1,compile:function(t,n){function i(e,a){var n=t.attr(e);angular.isDefined(n)&&n!==!1||t.attr(e,a)}var o=angular.element('<div class="input-group"><span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="'+a+'.openPopup($event)"><i class="glyphicon glyphicon-calendar"></i></button></span></div>');return i("type","text"),i("is-open",a+".popupOpen"),i("show-button-bar",!1),i("show-weeks",!1),i("datepicker-options","datepickerOptions"),t.addClass("form-control"),t.removeAttr("fw-date-picker"),t.after(o),o.prepend(t),function(t,a){var i={};void 0===t.data&&(t.data={}),t.field?null!=t.data[t.field.name]&&(i.initDate=new Date(t.data[t.field.name]),t.data[t.field.name]=angular.copy(i.initDate)):(t.field={customOptions:[]},n.fwDatePickerNgModelParent?(i.initDate=new Date(t.$parent[n.ngModel]),t.$parent[n.ngModel]=angular.copy(i.initDate)):(i.initDate=new Date(t[n.ngModel]),t[n.ngModel]=angular.copy(i.initDate)));var o="dd/MM/yyyy";void 0!==t.field.customOptions.monthpicker&&(i.datepickerMode="'month'",i.minMode="month",o="MM/yyyy"),a.find("input").attr("datepicker-popup",o),a.find("input").blur(function(){moment(this.value,o).isValid()||""===this.value?t.field.error=!1:t.field.error=!0}),t.datepickerOptions=i,e(a)(t)}},controller:["$scope",function(e){this.popupOpen=!1,this.openPopup=function(e){e.preventDefault(),e.stopPropagation(),this.popupOpen=!0}}],controllerAs:a}}angular.module("letsAngular").directive("fwDatePicker",e),e.$inject=["$compile","jQuery"]}(),function(e,t){"function"==typeof define&&define.amd?define(["angular"],t):t(angular)}(this,function(e){function t(e){return{restrict:"A",require:["ckeditor","ngModel"],controller:["$scope","$element","$attrs","$parse","$q",a],
link:function(t,a,i,o){var l=o[0],r=o[1];l.ready().then(function(){["dataReady","change","blur","saveSnapshot"].forEach(function(e){l.onCKEvent(e,function(){r.$setViewValue(l.instance.getData()||"")})}),l.instance.setReadOnly(!!i.readonly),i.$observe("readonly",function(e){l.instance.setReadOnly(!!e)}),n(function(){e(i.ready)(t)})}),r.$render=function(){l.ready().then(function(){l.instance.setData(r.$viewValue||"",{noSnapshot:!0,callback:function(){l.instance.fire("updateSnapshot")}})})}}}}function a(e,t,a,i,o){var l,r=i(a.ckeditor)(e)||{},s=t[0],c=o.defer();l=s.hasAttribute("contenteditable")&&"true"==s.getAttribute("contenteditable").toLowerCase()?this.instance=CKEDITOR.inline(s,r):this.instance=CKEDITOR.replace(s,r),this.onCKEvent=function(t,a){function i(){var e=arguments;n(function(){o.apply(null,e)})}function o(){var t=arguments;e.$apply(function(){a.apply(null,t)})}return l.on(t,i),function(){l.removeListener(t,o)}},this.onCKEvent("instanceReady",function(){c.resolve(!0)}),this.ready=function(){return c.promise},e.$on("$destroy",function(){c.promise.then(function(){l.destroy(!1)})})}e.module("ckeditor",[]).directive("ckeditor",["$parse",t]);var n=window&&window.setImmediate?window.setImmediate:function(e){setTimeout(e,0)}}),function(){"use strict";function e(e,t,a){return{restrict:"E",replace:!1,scope:{crudChartSettings:"&",crudChartData:"&"},templateUrl:"lets/views/framework/chart.html",controller:["$scope",function(n){var i=n.crudChartSettings(),o=i.chart_settings,l=n.crudChartData();n.key=i.key,n.d3chartUpdate=!1;var r=t.getMinMaxValues(o.xType,o.xLabel,o.xOffset,o.yType,o.yLabel,o.yOffset,l),s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]};n.d3chartStartDate=r.min.x,n.d3chartEndDate=r.max.x,n.d3chartConfig=e.configD3chart("line",["#092e64"],s),n.d3chartData=e.configD3chartData(i.fillArea||!1,i.key,l),n.$watch("d3chartStartDate",function(t,i){r.min.x=t,s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]},n.d3chartConfig=e.configD3chart("line",["#092e64"],s),t!=i&&a.$broadcast("update-chart",{type:"filter"})}),n.$watch("d3chartEndDate",function(t,i){r.max.x=t,s={x:[r.min.x,r.max.x],y:[r.min.y,r.max.y]},n.d3chartConfig=e.configD3chart("line",["#092e64"],s),t!=i&&a.$broadcast("update-chart",{type:"filter"})})}],link:function(e,t,a,n,i){e.$el=t}}}angular.module("letsAngular").directive("fwChart",e),e.$inject=["fwChartService","fwComparatorService","$rootScope"]}(),function(){"use strict";function e(e,t){var a="vm";return{restrict:"A",priority:1,link:function(e,a){var n=a.find("input"),i=function(){n.val()||(n.controller("ngModel").$setViewValue(void 0),t(function(){n.controller("ngModel").$setViewValue("")}))};a.find("button").click(i),n.click(i),n.keyup(function(){""==this.value.trim()&&(n.scope().data[n.attr("name")]=null)}),a.find(".icon.fa-close").click(function(){n.scope().data[n.attr("name")]=null,n.scope().data[n.attr("name")+".label"]=null,n.val(""),n.controller("ngModel").$setViewValue("")})},controller:function(){},controllerAs:a}}angular.module("letsAngular").directive("fwAutoComplete",e),e.$inject=["$compile","$timeout"]}(),function(){"use strict";function e(e,t,a,n){var i="vm";return{restrict:"A",priority:1,link:function(e,n){var i=e;i.tableSelected=function(e,t,a){i.tableVisibily=!1;var n=e.currentTarget.firstElementChild.firstChild.data.trim();i.data[t]=a.id,i.data[t+".labelCopy"]={id:a.id,label:n},i.data[t+".label"]=n},i.loadDataAutoCompleteTable=function(e,o){var l=n.find(":input").val().split(" "),r="/^("+l[0]+")";l.splice(0,1),l.forEach(function(e){r+="(?=.*"+e+")"}),r+=".*/i";var s='{"limit": 5,"where":{"'+o+'":{"regexp":"'+r+'"}}}',c=t.appSettings.API_URL+e+"?filter="+s,d=t.appSettings.API_URL+e+"/crudGET/";a.get(c).then(function(e){i.autoCompleteTableData2=[],e.data.forEach(function(e){a.get(d+e.id).then(function(e){i.autoCompleteTableData2.push(e.data)})})})}},controller:["$scope",function(e){e.autoCompleteTableFocus=function(t){e.tableVisibily=!0},e.autoCompleteTableLostFocus=function(){setTimeout(function(){e.$apply(function(){e.tableVisibily=!1})},100)},e.updateAutoCompleteTable=function(t,a){e.loadDataAutoCompleteTable(t,a)}}],controllerAs:i}}angular.module("letsAngular").directive("fwAutoCompleteTable",e),e.$inject=["$compile","$rootScope","$http","$timeout"]}(),function(){"use strict";function e(e){return{scope:{crudTabListData:"=",crudTabListSettings:"&",parentData:"="},templateUrl:"lets/views/crud/crud-tab-list.html",link:function(e,t){setTimeout(function(){var t=e.crudTabListSettings();e.data=e.parentData,e.type=t.type,e.headers=t.headers,e.app=e.$parent.app,e.crudTabListData&&(e.extraData=e.crudTabListData)},1e3)}}}angular.module("letsAngular").directive("crudTabList",e),e.$inject=["jQuery"]}(),function(){"use strict";function e(e,t,a,n,i,o,l,r){return{scope:{crudListSettings:"&",crudListDependenciesData:"&",app:"="},controller:["$scope",function(e){e.route=null,e.$on("refreshGRID",function(t,a,n){e.pageableCRUDModel.fetch(null,a,n)})}],link:function(o,s,c){function d(){function s(e){var a=[],i=function(){};i.prototype=new n.StringFormatter,_.extend(i.prototype,{fromRaw:function(e,t,a,n,i){return e}}),_.each(c.fields,function(e,t){if(e.viewable){var i={name:e.name,label:e.label,cell:"string",editable:!1,headers:e};if("boolean"==e.type)i.sortable=!1,i.cell=n.Cell.extend({className:"custom-situation-cell",formatter:{fromRaw:function(t,a){return t?e.customOptions.statusTrueText:e.customOptions.statusFalseText},toRaw:function(e,t){return"down"}}});else if("simplecolor"==e.type)i.sortable=!1,i.cell=n.Cell.extend({className:"custom-situation-cell",initialize:function(){n.Cell.prototype.initialize.apply(this,arguments)},render:function(){this.$el.empty();var e='<cp-color class="color-picker" style="background-color: '+this.model.attributes.cor+'"></cp-color>';return this.$el.append(e),this.delegateEvents(),this}});else if("custom"==e.type){var o={fromRaw:e.toString,toRaw:function(e,t){return"down"}};i.sortable=!1;var l=n.Cell.extend({className:"custom-cell",formatter:o});l.initialize=function(){n.Cell.prototype.initialize.apply(this,arguments)},l.render=function(){this.$el.empty(),this.$el.data("model",this.model);var e=o.fromRaw(this.model);return this.$el.append(e),this.delegateEvents(),this},i.cell=n.Cell.extend(l)}else if("address"==e.type){var r={fromRaw:function(e,t){try{return e.city+" - "+e.state}catch(a){return""}},toRaw:function(e,t){return"down"}},s=n.Cell.extend({className:"address-cell",formatter:r});i.cell=s}else if("float"==e.type)e.customOptions&&e.customOptions.currency?i.cell=n.Cell.extend({formatter:{fromRaw:function(e,t){if(e){var e=e.toFixed(2).split(".");return e[0]="R$ "+e[0].split(/(?=(?:...)*$)/).join("."),e.join(",")}}}}):i.cell=n.NumberCell.extend({decimalSeparator:",",orderSeparator:"."});else if("date"==e.type){var c="DD/MM/YYYY",d="YYYY/M/D",u=!0;void 0!==e.customOptions.monthpicker&&(c="MM/YYYY"),e.customOptions.timestamp&&(d="YYYY/M/D HH:mm:ss.SSS",u=!1),i.cell=n.Extension.MomentCell.extend({modelFormat:d,displayLang:"pt-br",displayFormat:c,displayInUTC:u})}else if(void 0!=e.customOptions["enum"]){var f=[];for(var p in e.customOptions["enum"]){var m=e.customOptions["enum"][p];f.push([m,p])}i.cell=n.SelectCell.extend({optionValues:f})}else 1==e.autocomplete&&(e.customOptions&&void 0!=e.customOptions.list?i.cell=n.Cell.extend({className:"custom-situation-cell-select",formatter:{fromRaw:function(t,a){var n="";return e.customOptions.list.forEach(function(e){e.id==t&&(n=e.label)}),n},toRaw:function(e,t){return"down"}}}):i.name=i.name+".label");a.push(i)}});var l=n.Cell.extend({className:"text-right btn-column"+(1==c.tab?" detail":""),template:function(){var e=[];if(c.tab)if(c.settings){if(c.settings.edit){var a=t('<button type="button" class="btn btn-default btn-edit-detail"><span class="glyphicon glyphicon-pencil"></span></button>');a.attr("data-route",c.url),e.push(a)}if(c.settings["delete"]){var n=t('<button type="button" class="btn btn-default btn-delete-detail"><span class="glyphicon glyphicon-remove"></span></button>');n.attr("data-route",c.url),e.push(n)}}else{var n=t('<button type="button" class="btn btn-default btn-delete-detail"><span class="glyphicon glyphicon-remove"></span></button>');n.attr("data-route",c.url),e.push(n)}else c.settings.edit&&e.push(t('<button type="button" class="btn btn-default btn-edit"><span class="glyphicon glyphicon-pencil"></span></button>')),c.settings["delete"]&&e.push(t('<button type="button" class="btn btn-default btn-delete"><span class="glyphicon glyphicon-remove"></span></button>'));var i=t('<div class="btn-group" role="group">');return i.append(e),i},events:{},editRow:function(e){e.preventDefault()},render:function(){var e=this.template(this.model.toJSON());return this.$el.html(e),this.$el.data("model",this.model),this.$el.find("button.btn-edit").click(function(e){e.stopPropagation();var t=angular.element(this).scope();c.tab?t.$parent.edit($(this).closest("td").data("model").attributes):t.edit($(this).closest("td").data("model").attributes)}),this.$el.find("button.btn-delete").click(function(e){e.stopPropagation();var t=window.confirm(u.translate("letsfw.message_delete"));if(t){var a=angular.element(this).scope();c.tab?a.$parent["delete"]($(this).closest("td").data("model").attributes):a["delete"]($(this).closest("td").data("model").attributes)}}),this.$el.find("button.btn-delete-detail").click(function(e){e.stopPropagation();var a=window.confirm(u.translate("letsfw.message_delete"));if(a){var n=angular.element(this).scope(),i=t(this).attr("data-route");c.tab?n.$parent.deleteDetail(i,$(this).closest("td").data("model").attributes):n.deleteDetail(i,$(this).closest("td").data("model").attributes)}}),this.$el.find("button.btn-edit-detail").click(function(e){e.stopPropagation();var t=angular.element(this).scope(),a=$.parseJSON($(this).closest(".table-container").attr("tab-config")),n=$(this).closest("td").data("model").attributes,i=$(this).attr("data-route");t.newDetail(a,t.data,n.id,i)}),this.delegateEvents(),this}});(c.settings.edit||c.settings["delete"])&&a.push({name:"actions",label:u.translate("letsfw.actions"),sortable:!1,cell:l}),o.$parent.app.helpers.isScreen("xs")&&a.splice(3,1);var r=[];1==c.tab&&r.push("detail"),void 0==c.settings||c.settings.edit||r.push("cant-edit");var s=n.Row.extend({className:r.join(" ")}),d="table table-striped table-editable no-margin mb-sm";c.tableClass&&(d+=" "+c.tableClass);var f=new n.Grid({row:s,columns:a,collection:e,className:d}),p=new n.Extension.Paginator({slideScale:.25,goBackFirstOnSort:!1,collection:e,controls:{rewind:{label:'<i class="fa fa-angle-double-left fa-lg"></i>',title:"First"},back:{label:'<i class="fa fa-angle-left fa-lg"></i>',title:"Previous"},forward:{label:'<i class="fa fa-angle-right fa-lg"></i>',title:"Next"},fastForward:{label:'<i class="fa fa-angle-double-right fa-lg"></i>',title:"Last"}}});o.$el.find(".table-container").html("").append(f.render().$el).append(p.render().$el),setTimeout(function(){angular.element(p.render().$el).click(function(){window.scrollTo({top:100,behavior:"smooth"})})},0),o.$broadcast("refreshGRID",!0)}var c=o.crudListSettings();c.route=i.API_URL+c.url,o.route=c.route,n.InputCellEditor.prototype.attributes["class"]="form-control input-sm";var d=a.Model.extend({}),f={model:d,url:c.route+(c.pagerGeneral?"/pagerGeneral":"/pager"),state:{pageSize:20},mode:"server",parseRecords:function(e,t){return o.$el[0].parseRecords&&"function"==typeof o.$el[0].parseRecords?o.$el[0].parseRecords(e.data):e.data},parseState:function(e,a,n,i){return l(function(){var a=t("<ul class='pull-right total-records'>");a.append(t("<li>").html(u.translate("letsfw.records_page")+": "+e.total_entries+" / "+e.total_count)),o.$el.find(".table-container .backgrid-paginator ul.total-records").remove(),o.$el.find(".table-container .backgrid-paginator").append(a)}),o.$parent.totalPager=e.total_count,{totalRecords:e.total_count}}};c.filterScope&&(f.queryParams={scope:c.filterScope}),c.sort&&(f.state.sortKey=c.sort.sortKey,c.sort.order&&"desc"==c.sort.order&&(f.state.order=1));var p=a.PageableCollection.extend(f),m=new p;o.pageableCRUDModel=m;var g=angular.copy(m.fetch);m.fetch=function(t,a,n){l(function(){n&&(m.state.currentPage=1);var i=o.$el.attr("grid"),l=$('div[crud-filter][grid="'+i+'"] input').scope();if(l||(l={}),a){if("main"==i&&e.location.search){var s={};if(decodeURIComponent(e.location.search).replace("?filter=","").split("&").forEach(function(e,t){var a=e.split("=");if(a[0].split("_ini").length>1){var n=a[0].replace("_ini","");s[n]||(s[n]={}),s[n].ini=decodeURIComponent(a[1])}else if(a[0].split("_fim").length>1){var n=a[0].replace("_fim","");s[n]||(s[n]={}),s[n].fim=decodeURIComponent(a[1])}else{try{a[1]=JSON.parse(a[1])}catch(i){a[1]=a[1]}"object"==typeof a[1]?s[a[0]]=a[1]:s[a[0]]=decodeURIComponent(a[1])}}),s.p&&(l.data.p=s.p,m.state.currentPage=parseInt(s.p)),s.q)l.data.q=s.q;else{l=l||{};var c=!1;Object.keys(s).forEach(function(e){if(e.split("_label").length>1)l.data[e.replace("_label","")+".label"]={id:s[e.replace("_label","")],label:s[e]};else if("object"==typeof s[e])for(var t in s[e])"ini"==t||"fim"==t?l.data[e+"_"+t]=moment(s[e][t],"DD/MM/YYYY").toDate():s[e][t].id&&s[e][t].label?l.data[e]=s[e]:(l.data[e]=l.data[e]||{},l.data[e][t]=s[e][t]);else l.data[e]=s[e];"p"!=e&&(c=!0)}),l.data.showBusca=c}l.filterData(!1)}}else if("main"==i){var d=[];if(l.objFilter&&l.objFilter.data.q&&d.push("q="+l.objFilter.data.q),l.objFilter&&l.objFilter.data.filter&&Object.keys(l.objFilter.data.filter).length>0)for(var u in l.objFilter.data.filter)if("object"==typeof l.objFilter.data.filter[u]){if(l.objFilter.data.filter[u].ini&&d.push(u+"_ini="+l.objFilter.data.filter[u].ini),l.objFilter.data.filter[u].fim&&d.push(u+"_fim="+l.objFilter.data.filter[u].fim),!l.objFilter.data.filter[u].ini&&!l.objFilter.data.filter[u].fim){var f=l.objFilter.data.filter[u];d.push(u+"="+JSON.stringify(f))}}else"p"!=u&&d.push(u+"="+l.objFilter.data.filter[u]);m.state&&m.state.currentPage&&1!=m.state.currentPage&&d.push("p="+m.state.currentPage);var p=d.join("&");r.transitionTo(r.$current.name,{filter:p},{location:!0,inherit:!0,relative:r.$current,notify:!1})}l&&l.objFilter&&l.objFilter.data.q&&(t=t||{data:{}},t.data=t.data||{},t.data.q=l.objFilter.data.q,l.objFilter.data.p&&a&&(t.data.page=l.objFilter.data.p,m.state.currentPage=parseInt(l.objFilter.data.p))),l.objFilter&&l.objFilter.data.filter&&Object.keys(l.objFilter.data.filter).length>0&&(t=t||{data:{}},t.data=t.data||{},t.data.filter=l.objFilter.data.filter,l.objFilter.data.filter.p&&a&&(t.data.page=l.objFilter.data.filter.p,m.state.currentPage=parseInt(l.objFilter.data.filter.p))),g.call(m,t)})},s(m)}o.$el=s;var u=angular.element("body").injector().get("locale"),f=o.$parent.$watch("headers",function(e,t){if(null!=e){var a=o.crudListSettings();if(1==a.tab)var n=o.$parent.$watch("data",function(e,t){void 0!=e.id&&(d(),n(),f())});else d(),f()}})}}}angular.module("letsAngular").directive("crudList",e),e.$inject=["$window","jQuery","Backbone","Backgrid","appSettings","fwObjectService","$timeout","$state"]}(),function(){"use strict";function e(e,t,a){return{replace:!1,link:function(n,i){for(var o in n.headers.fields){var l=n.headers.fields[o];l.customOptions.file&&(n.dzOptions={url:a.API_URL+"upload/"+l.customOptions.file.container+"/upload",acceptedFiles:l.customOptions.file.acceptedFiles,maxFilesize:"25",maxFiles:"1",uploadMultiple:!1,addRemoveLinks:!0})}n.dzMethods={},n.removeNewFile=function(){n.dzMethods.removeFile(n.newFile)},e(i).on("click",".button-new",function(){var t=e(this).attr("detail"),a=e(this).attr("origin"),i="true"==e(this).attr("form-modal");n.newDetailData(a,t,i)}),t(function(){i.find(".tab-group .nav-tabs li:first").find("a").click(),i.find(':input[type!="hidden"]:first').focus()},500),$(i).parsley({priorityEnabled:!1,errorsContainer:function(e){return e.$element.closest(".input-container")}})}}}angular.module("letsAngular").directive("crudForm",e),e.$inject=["jQuery","$timeout","appSettings"]}(),function(){"use strict";function e(e,t,a,n,i){return{templateUrl:"lets/views/crud/crud-filter.html",replace:!0,scope:{fields:"&",route:"&",search:"&",clearButton:"=clearButton"},controller:["$scope",function(e){}],link:function(o,l){o.data={},o.showBuscaAvancada=!1;var r;o.fieldsFilter=[],o.startFilters=function(){r=angular.copy(o.fields()),o.fieldsFilter=[],r=r.filter(function(e){return e.filter}),r.forEach(function(e,t){if(e.filter){if(e.disabled=!1,e.notnull=!1,e.name=e.name,e.customOptions.file&&delete e.customOptions.file,e.customOptions.multiselect&&(e.type="multiselect",e.autocomplete=!1),"text"==e.type)e.type="string";else if("boolean"==e.type)e.type="number",e.autocomplete=!0,e.customOptions={list:[{id:"false",label:e.customOptions.statusFalseText},{id:"true",label:e.customOptions.statusTrueText}],select:!0};else if("date"==e.type){if("object"==typeof e.filter&&e.filter.range===!0){var a=angular.copy(e);a.name+="_ini",a.label+=" (Início)",o.fieldsFilter.push(a);var n=angular.copy(e);return n.name+="_fim",n.label+=" (Término)",void o.fieldsFilter.push(n)}}else if(("number"==e.type||"integer"==e.type||"float"==e.type||"bigint"==e.type)&&"object"==typeof e.filter&&e.filter.range===!0){var a=angular.copy(e);a.name+="_ini",a.label+=" (Início)",o.fieldsFilter.push(a);var n=angular.copy(e);return n.name+="_fim",n.label+=" (Término)",void o.fieldsFilter.push(n)}o.fieldsFilter.push(e)}}),o.fieldsFilter=o.fieldsFilter.sort(function(e,t){var a=e.filter.sequence||0,n=t.filter.sequence||0;return a-n}),setTimeout(function(){o.$emit("filter-init",o),o.$broadcast("filter-init",o)},500)},o.autocomplete=function(a,n){o.$emit("before-filter-autocomplete",o),o.resource=t.all(o.route());var l=[],r=e.defer();if(a.autocomplete_dependencies.length>0){var s=a.autocomplete_dependencies;for(var c in s){var d=s[c];if(void 0==o.data[d.field]||null==o.data[d.field]||"null"==o.data[d.field]){var u=i.translate("letsfw.select_before").replace("%name%",d.label.toLocaleLowerCase()).replace("%gender%",d.gender?d.gender:"o(a)"),f=[];return f.push({id:null,label:u}),r.resolve(f),r.promise}l[d.field]=o.data[d.field]}}if(n=n.trim(),(0==n.length||1==a.customOptions.select)&&(n="[blank]"),void 0!==a.customOptions.general)o.resource.customGET("general/autocomplete/"+a.customOptions.general+"/"+n,l).then(function(e){r.resolve(e)},function(){return r.reject()});else if(void 0==a.customOptions.list){var p="autocomplete/"+a.name+"/"+n;1==a.customOptions.select?l.limit=0:l.limit=20,o.resource.customGET(p,l).then(function(e){a.customOptions.onlyList||e.unshift({id:"null",label:i.translate("letsfw.is_blank")}),e.unshift({id:null,label:"--- "+i.translate("letsfw.select")+" ---"}),r.resolve(e)},function(){return r.reject()})}else{var m=angular.copy(a.customOptions.list)||[];1==a.customOptions.select&&(a.customOptions.onlyList||m.unshift({id:"null",label:i.translate("letsfw.is_blank")}),a.customOptions.required||m.unshift({id:null,label:"--- "+i.translate("letsfw.select")+" ---"})),r.resolve(m)}return r.promise},o.autocompleteSelect=function(e,t,n){o.$emit("after-filter-autocomplete",{scope:o,name:this.field.name,value:e});var i=this.data;if(void 0==i&&(i={}),null!=e.id&&"integer"!=typeof e.id||"integer"==typeof e.id&&e.id>0)i[this.field.name]=e.id;else{if(null!=e.id)return i[this.field.name+".label"]=null,!1;i[this.field.name]=i[this.field.name+".label"]=null}this.data=i;var l=this.field;a(function(){jQuery("#"+l.name).trigger("keyup")})},o.filterData=function(e){o.objFilter=void 0;var t={};o.data.showBuscaAvancada&&(o.showBuscaAvancada=angular.copy(o.data.showBuscaAvancada),delete o.data.showBuscaAvancada),o.showBuscaAvancada||o.data.showBusca?(r.forEach(function(e,a){if("object"==typeof e.filter&&e.filter.range===!0){var n={};o.data[e.name+"_ini"]&&(n.ini=o.data[e.name+"_ini"],"date"==e.type&&(n.ini=o.getDateFormated(n.ini))),o.data[e.name+"_fim"]&&(n.fim=o.data[e.name+"_fim"],"date"==e.type&&(n.fim=o.getDateFormated(n.fim))),Object.keys(n).length>0&&(t[e.name]=n)}o.data[e.name]&&(t[e.name]=o.data[e.name],e.customOptions&&e.customOptions.telefone&&(t[e.name]=o.data[e.name].replace(/\D/g,"")),"date"==e.type&&(t[e.name]=o.getDateFormated(t[e.name])),e.autocomplete&&!e.customOptions.multiselect&&(t[e.name+"_label"]=o.data[e.name+".label"].label),e.autocomplete&&e.customOptions.multiselect&&(t[e.name]=o.data[e.name]))}),o.data.q=null,o.objFilter={data:{filter:t}}):(t.q=o.data.q,t.p=o.data.p,o.objFilter={data:t}),e&&n.$broadcast("refreshGRID",!1,!0)},o.openBuscaAvancada=function(){o.showBuscaAvancada=!o.showBuscaAvancada},o.clearBusca=function(){Object.keys(o.data).forEach(function(e){o.data[e]=null}),o.filterData(!0)},o.getDateFormated=function(e){return moment(e).format("DD/MM/YYYY")},o.startFilters(),o.$on("refresh-fields",function(e,t){o.startFilters()}),"fixed"==o.search()&&(o.showBuscaAvancada=!0,o.hideInputSearch=!0)}}}angular.module("letsAngular").directive("crudFilter",e),e.$inject=["$q","Restangular","$timeout","$rootScope","locale"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"lets/views/framework/breadcrumb.html",replace:!0,link:function(e,t){}}}angular.module("letsAngular").directive("crudBreadcrumb",e),e.$inject=[]}(),function(){"use strict";function e(e){this.$get=e.$get,this.state=e.state,this.setCRUDRoutes=function(e){var t={main:{enable:!0,templateUrl:"lets/views/crud/crud.html",controller:"CRUDController"},list:{enable:!0,templateUrl:"lets/views/crud/crud-list.html",controller:"CRUDController"},edit:{enable:!0,templateUrl:"lets/views/crud/crud-edit.html",controller:"CRUDEditController"},"new":{enable:!0,templateUrl:"lets/views/crud/crud-edit.html",controller:"CRUDEditController"}},a=angular.merge(t,e.options);a.main.enable&&this.state("app."+e.route,{"abstract":!0,url:"/"+e.route,templateUrl:a.main.templateUrl,controller:a.main.controller,resolve:{id:["$stateParams",function(e){return e.id}],module:function(){return e.modelName}}}),a.list.enable&&this.state("app."+e.route+".list",{url:"?filter",templateUrl:a.list.templateUrl,controller:a.list.controller}),a["new"].enable&&this.state("app."+e.route+".new",{url:"/new?filter",templateUrl:a["new"].templateUrl,controller:a["new"].controller}),a.edit.enable&&this.state("app."+e.route+".edit",{url:"/:id/edit?filter",templateUrl:a.edit.templateUrl,controller:a.edit.controller})}}e.$inject=["$stateProvider"],angular.module("letsAngular").provider("fwState",e)}(),function(){"use strict";function localeProvider(){this.locale="pt-br",this.catalog={},this.onSetLocale,this.addCatalog=function(e,t){return this.catalog[e]?(console.error(e+" property already exists in the catalog."),!1):void(this.catalog[e]=t)},this.translate=function(varname){var pos=eval("this.catalog."+varname);return pos&&pos[this.locale]?pos[this.locale]:"{{__"+varname+"__}}"},this.setLocale=function(e){this.changeLocale(e),"pt-br"==this.locale?(window.ParsleyValidator.setLocale("pt-br"),moment.locale("pt-br")):"en"==this.locale?(window.ParsleyValidator.setLocale("en"),moment.locale("en")):"es"==this.locale&&(window.ParsleyValidator.setLocale("es"),moment.locale("es")),"function"==typeof this.onSetLocale&&this.onSetLocale(e)},this.getLocale=function(){return this.locale},this.changeLocale=function(e){this.locale=e},this.$get=function(){return this}}function locale(e){return function(t){return e.translate(t)}}function dateFormat(){return function(e,t){return moment(e).format(t)}}locale.$inject=["locale"];var module=angular.module("letsAngular");module.provider("locale",localeProvider),module.filter("locale",locale),locale.inject=["locale"],module.filter("date_format",dateFormat)}(),function(){"use strict";function e(){this.$get=["$templateRequest",function(e){return new t(e)}]}function t(e){var t=this;return t.getCrudBaseTemplate=function(){return e("lets/views/crud/crud.html")},t.getCrudListTemplate=function(){return e("lets/views/crud/crud-list.html")},t.getCrudEditTemplate=function(){return e("lets/views/crud/crud-edit.html")},{getCrudBaseTemplate:t.getCrudBaseTemplate,getCrudListTemplate:t.getCrudListTemplate,getCrudEditTemplate:t.getCrudEditTemplate}}angular.module("letsAngular").provider("fwFileLoad",e)}(),function(){"use strict";var e=angular.module("letsAngular");e.config(["localeProvider",function(e){e.addCatalog("letsfw",{save:{"pt-br":"Salvar",en:"Save",es:"Guardar"},cancel:{"pt-br":"Cancelar",en:"Cancel",es:"Cancelar"},ok:{"pt-br":"Ok",en:"OK",es:"Feito"},select:{"pt-br":"Selecione",en:"Select",es:"Seleccione"},is_blank:{"pt-br":"[Em Branco]",en:"[Is blank]",es:"[En blanco]"},select_before:{"pt-br":"Selecione antes %gender% %name%",en:"Select %name% first",es:"Seleccione %name% primero"},no_record_found:{"pt-br":"Nenhum registro encontrado.",en:"No records found.",es:"No se encontraron registros."},add_new:{"pt-br":"Adicionar novo",en:"Add new",es:"Agregar nuevo"},message_delete:{"pt-br":"Deseja realmente excluir esse registro?",en:"Do you really want to delete this record?",es:"¿Desea realmente excluir este registro?"},actions:{"pt-br":"Ações",en:"Actions",es:"Acciones"},records_page:{"pt-br":"Registros na página",en:"Records on page",es:"Registros en la página"},search:{"pt-br":"Buscar",en:"Search",es:"Buscar"},search_by:{"pt-br":"Buscar por",en:"Search by",es:"Buscar"},search_advanced:{"pt-br":"Busca Avançada",en:"Advanced search",es:"Búsqueda Avanzada"},clear_filter:{"pt-br":"Limpar Filtro",en:"Clear Filter",es:"Filtro claro"},new_record:{"pt-br":"Novo Registro",en:"New Record",es:"Nuevo Record"},main_information:{"pt-br":"Informações Principais",en:"Main Information",es:"Información Principal"}})}])}(),function(){"use strict";function e(e){if(null!=e){"string"==typeof e&&(e=new Date(e));var t=" meses",a=moment(e),n=moment().diff(a,"months");return n?n>12&&(t=" anos",n=moment().diff(a,"years")):(t=" dias",n=moment().diff(a,"days")),n+t}}e.$inject=["birthday"],angular.module("letsAngular").filter("fwAgeMonth",e)}(),function(){"use strict";function e(e){return e.Backgrid}angular.module("letsAngular").factory("Backgrid",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){return e.Backbone}angular.module("letsAngular").factory("Backbone",e),e.$inject=["$window"]}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDController",["$scope","Restangular","module","$state","$window","$stateParams","$rootScope","headers","swangular","ngToast",function(e,t,a,n,i,o,l,r,s,c){function d(){var t=angular.copy(r.get(a));e.headers=t}e.headersReady=!1,e.export_btn_is_disable=!1,d(),e.$on("refresh-headers",function(){d()}),e.resource=t.all(e.headers.route),e.$broadcast("headers-set"),e.headersReady=!0,e.getFilter=function(){return decodeURIComponent(i.location.search).replace("?filter=","")},e.goNew=function(){n.go(n.current.name.replace(".list",".new"),{filter:e.getFilter()})},e.goToList=function(){-1==n.current.name.indexOf(".list")&&n.go(n.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})},e.edit=function(t){n.go(n.current.name.replace(/\.list$/,".edit"),{id:t.id,page:null,filter:e.getFilter()})},e["delete"]=function(t){return e.resource.customDELETE(t.id).then(function(){l.$broadcast("refreshGRID")})},e["export"]=function(){function t(e){return e["export"]}function a(e){var t={};return t[e.name]=e.label,e.customOptions&&e.customOptions.exportColumn&&(t.exportColumn=e.customOptions.exportColumn),t}function n(e,t){if(t.length<=0)return null;if(1==t.length){if(e[0]){var a=e.map(function(e){return e[t[0]]});return a}return e[t[0]]}if(e[0]){var i=[],o=t.slice(1);return e.forEach(function(e){i.append(e[t[0]])}),n(i,o)}var i=e[t[0]],o=t.slice(1),o=t.slice(1);return n(i,o)}function i(e,t,a){e[0]&&e.forEach(function(e){if(a+=Object.keys(e)[0]+"#",e.exportColumn){var n=a+e.exportColumn[0].name;t.push({antes:n.split("#"),depois:e.exportColumn[0].label})}else{var o=Object.keys(e);if(Array.isArray(e[o[0]])){var l=e[o[0]];l.forEach(function(e){i([e],t,a)})}}a=""})}function o(e){var n=e.fields.filter(t).map(a);if(e.tabs)for(var i in e.tabs){var l=o(e.tabs[i]);if(l){var r={};r[i]=l,r.real_name=e.tabs[i].label,e.tabs[i].customOptions&&e.tabs[i].customOptions.exportColumn&&(r.exportColumn=e.tabs[i].customOptions.exportColumn),n.push(angular.copy(r))}}if(e.tabs_session)for(var i in e.tabs_session){var s=o(e.tabs_session[i]);if(s){var r={};r[i]=s,r.real_name=e.tabs_session[i].label,e.tabs_session[i].customOptions&&e.tabs_session[i].customOptions.exportColumn&&(r.exportColumn=e.tabs_session[i].customOptions.exportColumn),n.push(angular.copy(r))}}return n.length?n:void 0}function l(e,t){return t.reduce(function(e,t){if(e&&e[0]){var a=[];return e.forEach(function(e){e&&a.push(e[t])}),a}return e&&"undefined"!==e[t]?e[t]:void 0},e)}function r(e){var t={};e=e.split("&");for(var a=0;a<e.length;a++){var n=e[a].split("=",2);"q"==n[0]?t[n[0]]=n[1]:"p"==n[0]?t.page=n[1]:/_ini$/g.test(n[0])?t["filter["+n[0].replace(/_ini$/g,"")+"][ini]"]=decodeURIComponent(n[1]):/_fim$/g.test(n[0])?t["filter["+n[0].replace(/_fim$/g,"")+"][fim]"]=decodeURIComponent(n[1]):t["filter["+n[0]+"]"]=decodeURIComponent(n[1])}return t}function d(e,t,a){var n=Object.keys(e)[0],i=Object.values(e),o="";return i.forEach(function(i,l){if("exportColumn"!==Object.keys(e)[l])if("string"==typeof i){if(e.real_name!==i){var r=t.join("").replace(" ","_");o+="<div>",o+='<input type="checkbox" id="m_'+r+n+'" name="m_'+t.join("")+n+'" checked>',o+='<label for="m_'+r+n+'">&nbsp;'+t.join(" -> ")+" -> "+i+"</label>",o+="</div>",h.push("m_"+r+n),b.push(a.join("#")+"#"+n)}}else n+1>0||(t.push(e.real_name),a.push(n)),o+=d(i,t,a)}),o}var u=e.getFilter();e.export_btn_is_disable=!0;var f=void 0!==e.totalPager?e.totalPager:$("tr").find("td").last().data("model").collection.state.totalRecords;if(f&&f>2e3)throw c.warning("Não é possível exportar mais que 2000 registros."),e.export_btn_is_disable=!1,"Não é possível exportar mais que 2000 registros.";var p=e.resource,m=o(e.headers),g='<div class="d-flex flex-column" style="margin-top: 30px;align-items: flex-start;">',h=[],b=[];for(var v in m){var y=Object.keys(m[v])[0],w=Object.values(m[v])[0];"string"==typeof w?(g+="<div>",g+='<input type="checkbox" id="m_'+y+'" name="m_'+y+'" checked>',g+='<label for="m_'+y+'">&nbsp;'+w+"</label>",g+="</div>",h.push("m_"+y),b.push(y)):g+=d(m[v],[],[])}g+="</div>",s.swal({title:"Selecione as Colunas Desejadas",html:g,preConfirm:function(){var e=h.map(function(e){return document.getElementById(""+e).checked});return e},showCancelButton:!0}).then(function(t){if(t.value&&e.totalPager&&void 0!=e.totalPager){s.swal({html:"Por favor aguarde, estamos buscando os dados.",allowOutsideClick:!1,allowEscapeKey:!1,onOpen:function(){s.showLoading()}});var a=b.filter(function(e,a){return t.value[a]}),o=r(u);o=Object.assign({},o,{per_page:f}),p.customGET("pager",o).then(function(t){function o(){var o=t.data.map(function(e){var t={};return a.forEach(function(a){var i=a.split("#");if(1==i.length)t[a]=e[a];else if(i.length>1){i.reduce(function(t,a,o){return o===i.length-1?(t?t[a]=n(e,i):"",t):t?t[a]=t[a]?t[a]:{}:""},t)}}),t}),r=[];i(m,r,""),o.map(function(e){var t=r;t.forEach(function(t){var a=l(e,t.antes);"object"==typeof a&&(a=a.join(", ")),e[t.depois]=a}),t.forEach(function(t){t.antes[0]!=t.depois&&delete e[t.antes[0]]})}),s.close();var c=XLSX.utils.json_to_sheet(o),d=XLSX.utils.book_new();XLSX.utils.book_append_sheet(d,c,"dadosexportados");var u=moment().unix();XLSX.writeFile(d,"Exportacao_"+u+".xlsx"),e.export_btn_is_disable=!1}e.$emit("before export",t,o),e.$$listeners["before export"]||o()})}else void 0==e.totalPager||t.dismiss||s.swal({type:"info",title:"Ocorreu um erro",text:"Não é possível criar exportar os dados, pois não há registros."}),e.export_btn_is_disable=!1})}}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDFormModalController",["$controller","$scope","$modalInstance","ngToast","headers","Restangular","$stateParams","$timeout","$state","$rootScope","$q","$http","Upload","$modal","data","fwStringService","auth","fwObjectService","fwErrorService",function(t,a,n,i,o,l,r,s,c,d,u,f,p,m,g,h,b,v,y){
t("CRUDEditController",{$scope:a,Restangular:l,$stateParams:r,$timeout:s,$modal:m,module:e,$state:c,$rootScope:d,$q:u,ngToast:i,$http:f,Upload:p}),a.data=g||{},a.headers=o;var w=o.parentScope;delete o.parentScope,o.modal_id&&(d.$emit("open:"+o.modal_id,a),w&&w.$emit("open:"+o.modal_id,a)),a.resource=l.all(o.route);for(var x in a.headers.fields){var $=a.headers.fields[x];"boolean"==$.type&&void 0==a.data[$.name]&&($.customOptions["default"]?a.data[$.name]=!0:a.data[$.name]=!1)}a.cancel=function(){n.dismiss("cancel")},a.submit=function(){this.crudForm.$valid?n.close(a.data):y.emitFormErrors(this.crudForm)},d.$on("cancel-modal",function(e,t){n.dismiss("cancel")}),s(function(){a.$broadcast("setProgressFile")})}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDEditController",["$scope","Restangular","$stateParams","$timeout","$modal","module","$state","$rootScope","$q","ngToast","$http","Upload","fwModalService","$window","locale",function(e,t,a,n,i,o,l,r,s,c,d,u,f,p,m){e.data={},e.dataLoaded=!1,e.module=o,e.$http=d,e.$emit("refresh-headers"),e.datepickers={},e.loading_http_request=!1,e.datepickerToggle=function(t){void 0==e.datepickers[t]&&(e.datepickers[t]=!1),e.datepickers[t]=!e.datepickers[t]},e.fetchData=function(){if(a.id)e.$parent.resource.customGET("crudGET/"+a.id).then(function(t){for(var a in e.headers.fields){var i=e.headers.fields[a];if("date"==i.type&&void 0!=t[i.name]&&null!=t[i.name]){var o=new Date(t[i.name]);o.setHours(o.getHours()+o.getTimezoneOffset()/60),t[i.name]=o}i.customOptions&&void 0!=i.customOptions.list&&i.customOptions.list.forEach(function(e){e.id==t[i.name]&&(t[i.name+".label"]=e.label)}),"password"==i.type&&(i.notnull=!1),i.customOptions&&void 0!=i.customOptions.file&&(e.fileName=t[i.name])}e.data=t,e.dataLoaded=!0,n(function(){e.$broadcast("setProgressFile")}),e.$emit("data-loaded")});else{n(function(){e.$emit("data-new")},50);for(var t in e.headers.fields){var i=e.headers.fields[t];"boolean"==i.type&&(e.data[i.name]=i.customOptions["default"]?i.customOptions["default"]:!1)}e.dataLoaded=!0,e.$emit("data-loaded")}},e.headersReady&&e.fetchData(),e.$on("headers-set",function(){e.fetchData()}),e._upload=function(e,t){var a=r.appSettings.API_URL;return void 0!=e.customOptions.file.url&&void 0==e.customOptions.file.container?a+=e.customOptions.file.url:void 0==e.customOptions.file.url&&void 0!=e.customOptions.file.container?a+="upload/"+e.customOptions.file.container+"/upload":void 0!=e.customOptions.file.url&&void 0!=e.customOptions.file.container&&(a+="upload/"+e.customOptions.file.container+"/"+e.customOptions.file.url),u.upload({url:a,data:{file:t}})},e.download=function(t,a){if(void 0!=t.customOptions.file.container)var n=r.appSettings.API_URL+"upload/"+t.customOptions.file.container+"/download/"+e.data[t.name];else var n=r.appSettings.API_URL+e.module+"/download/"+t.name+"/"+a;e._download(n,t,e.data)},e.downloadDetail=function(t,a,n,i){if(void 0!=a.customOptions.file.container)var o=r.appSettings.API_URL+"upload/"+a.customOptions.file.container+"/download/"+i[a.name];else var o=r.appSettings.API_URL+e.module+"/details/"+t+"/download/"+a.name+"/"+n;e._download(o,a,i)},e._download=function(t,a,n){this.$http({method:"GET",url:t,responseType:"arraybuffer"}).success(function(t,i,o){if(o=o(),void 0!=a.customOptions.file.container)var l=n[a.name];else var l=o["content-disposition"].split(";")[1].split("=")[1].split('"')[1];var r=o["content-type"],s=new Blob([t],{type:r});e.downloadFile(s,l)})},e.downloadFile=function(e,t){var a=document.createElement("a");try{var n=window.URL.createObjectURL(e);a.setAttribute("href",n),a.setAttribute("download",t);var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(i)}catch(o){}},e.getFilter=function(){return decodeURIComponent(p.location.search).replace("?filter=","")},e.submit=function(){function t(t){if(t)n.loading_http_request=!1,t.message?c.warning(t.message):c.warning("Confira seu formulário");else{n.headers.tabs&&Object.keys(n.headers.tabs).forEach(function(e){n.data[e]&&delete n.data[e]});var i;if(a.id){i=e.data.put();var o="edit"}else{i=e.$parent.resource.post(e.data);var o="new"}i.then(function(t){function a(){n.loading_http_request=!1,l.go(l.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})}e.$emit("after save",a,t,o),e.$$listeners["after save"]||a()},function(t){function a(e){for(var t in n.headers.fields){var a=n.headers.fields[t];if(a.name==e)return a.label}}var i=[];if(n.loading_http_request=!1,422==t.status)if("CANT_SAVE_MODEL"==t.data.error.code)i.push(t.data.error.message);else if(t.data.error.details){var o=t.data.error.details.codes,l={presence:"O campo %s é obrigatório",absence:"O campo %s deve ser nulo","unknown-property":"O campo %s não foi definido",length:{min:"O campo %s é muito curto",max:"O campo %s é muito longo",is:"O campo %s está com tamanho inválido"},common:{blank:"O campo %s está em branco","null":"O campo %s está nulo"},numericality:{"int":"O campo %s não é um número inteiro",number:"O campo %s não é um número"},inclusion:"O campo %s não foi incluído na lista",exclusion:"O campo %s não pode ser excluído",uniqueness:"O campo %s está repetido com o de outro registro","custom.email":"Este email não é válido"};_.each(o,function(e,t){var n=a(t);"string"==typeof e&&(e=[e]),_.each(e,function(e,t){var a=l[e].replace("%s",n);i.push(a)})})}else i.push(t.data.error.message);c.warning(i.join("<br />")),e.$emit("error save",t)})}}var n=this,i={},o=n.data;if(_.each(n.headers.fields,function(e,t){o[e.name]||0==o[e.name]||e.notnull||"number"!==e.type||(o[e.name]=null),"password"==e.type&&0!=e.name.indexOf("confirm")&&o["confirm_"+e.name]!=o[e.name]&&(i.password='Os campos "'+e.label+'" e "Confirmar '+e.label+'" não são iguais')}),_.each(n.data,function(e,t){-1!==t.indexOf(".label")&&void 0===o.id&&"object"!=typeof e&&""!==e&&(i[t]="Adicione o(a) "+t.split(".")[0]+" no sistema antes de escolher nesse formulário!"),"data_nascimento"===t&&(moment(e).isAfter(moment())||moment(e).isSame(moment(),"day"))&&(i[t]="Insira uma data de nascimento válida, anterior ao dia de hoje!")}),Object.keys(i).length>0){var r=new Array;_.each(i,function(e,t){r.push(e)}),c.warning(r.join("<br />"))}else if(this.crudForm.$valid)n.loading_http_request=!0,e.$emit("before save",t),e.$$listeners["before save"]||t();else{var s=[],d=Object.keys(this.crudForm.$error),u=/^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;for(var f in d){var p=this.crudForm.$error[d[f]];for(var m in p){var g=p[m].$options.fieldInfo.label;"required"==d[f]?s.push("O campo "+g+" é obrigatório"):"date"==d[f]&&0==u.test(p[m].$viewValue)&&s.push("O campo "+g+" está com uma data inválida")}}if(s.length>0)return!1;if(a.id)var h=e.data.put(),b="edit";else var h=e.$parent.resource.post(e.data),b="new";h.then(function(){void 0!=e.doAfterSave&&"function"==typeof e.doAfterSave?e.doAfterSave(resp,b):l.go(l.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})},function(e){function t(e){for(var t in n.headers.fields){var a=n.headers.fields[t];if(a.name==e)return a.label}}var a=[];if(422==e.status)if("CANT_SAVE_MODEL"==e.data.error.code)a.push(e.data.error.message);else if(e.data.error.details){var i=e.data.error.details.codes,o={presence:"O campo %s é obrigatório",absence:"O campo %s deve ser nulo","unknown-property":"O campo %s não foi definido",length:{min:"O campo %s é muito curto",max:"O campo %s é muito longo",is:"O campo %s está com tamanho inválido"},common:{blank:"O campo %s está em branco","null":"O campo %s está nulo"},numericality:{"int":"O campo %s não é um número inteiro",number:"O campo %s não é um número"},inclusion:"O campo %s não foi incluído na lista",exclusion:"O campo %s não pode ser excluído",uniqueness:"O campo %s está repetido com o de outro registro"};_.each(i,function(e,n){var i=t(n),l=o[e].replace("%s",i);a.push(l)})}else a.push(e.data.error.message);c.warning(a.join("<br />"))})}},e.cancel=function(){l.go(l.current.name.replace(".edit",".list").replace(".new",".list"),{filter:e.getFilter()})},e.autocompleteModels={},e.autocompleteAdd=function(e){},e._autocomplete=function(t,a,n){var i=[],o=s.defer();if(t.autocomplete_dependencies.length>0){var l=t.autocomplete_dependencies;for(var r in l){var c=l[r];if(void 0==e.data[c.field]||null==e.data[c.field]){var d=m.translate("letsfw.select_before").replace("%name%",c.label.toLocaleLowerCase()).replace("%gender%",c.gender?c.gender:"o(a)");if(c.custom)var d=c.label;var u=[];return u.push({id:null,label:d}),o.resolve(u),o.promise}i[c.field]=e.data[c.field]}}if(a=a.trim(),(0==a.length||1==t.customOptions.select)&&(a="[blank]"),void 0!==t.customOptions.general)e.resource.customGET("general/autocomplete/"+t.customOptions.general+"/"+a,i).then(function(e){t.quickAdd===!0&&"[blank]"!=a&&e.push({id:-1,label:"Adicionar novo: "+a}),o.resolve(e)},function(){return o.reject()});else if(void 0==t.customOptions.list){if(n)var f="details/"+n+"/autocomplete/"+t.name+"/"+a;else var f="autocomplete/"+t.name+"/"+a;1==t.customOptions.select?i.limit=0:i.limit=20,e.resource.customGET(f,i).then(function(e){var n=e.length>0;0==e.length&&e.unshift({id:null,label:m.translate("letsfw.no_record_found")}),1==t.customOptions.select&&n&&e.unshift({id:null,label:"--- "+m.translate("letsfw.select")+" ---"}),t.quickAdd===!0&&"[blank]"!=a&&e.push({id:-1,label:"Adicionar novo: "+a}),o.resolve(e)},function(){return o.reject()})}else{var p=angular.copy(t.customOptions.list)||[];1==t.customOptions.select&&p.unshift({id:null,label:"--- "+m.translate("letsfw.select")+" ---"}),o.resolve(p)}return o.promise},e.autocomplete=function(e,t){return this._autocomplete(e,t,null)},e.autocompleteDetail=function(e,t,a){return this._autocomplete(t,a,e)},e.doafterAutoCompleteSelect={},e._autocompleteSelect=function(t,a,i,o){var l=o?this.detail_data:this.data;if(void 0==l&&(l={}),null!=t.id&&"integer"!=typeof t.id||"integer"==typeof t.id&&t.id>0)l[this.field.name]=t.id;else{if(null!=t.id)return l[this.field.name+".label"]=null,!1;l[this.field.name]=l[this.field.name+".label"]=null}"function"==typeof e.doafterAutoCompleteSelect[this.field.name]&&e.doafterAutoCompleteSelect[this.field.name].call(this,l,t,a,i),o?this.detail_data=l:this.data=l;var r=this.field;n(function(){jQuery("#"+r.name).trigger("keyup")})},e.autocompleteSelect=function(e,t,a,n){this._autocompleteSelect(t,a,n,null)},e.autocompleteDetailSelect=function(e,t,a,n){this._autocompleteSelect(t,a,n,e)},e.openPopup=function(e){e.preventDefault(),e.stopPropagation(),this.popupOpen=!0},e.buttonClick=function(t){e[t]()},e.newDetail=function(t,a,n,i){t.fixedRoute||(t.fixedRoute=t.route);e.headers.parent_route?e.headers.parent_route:e.headers.route.toLowerCase();t.route=n?i:e.headers.route+t.fixedRoute,t.id=n?n:null,f.createCRUDModal(t,null,"CRUDEditDetailController",null,e)},e.deleteDetail=function(e,a){var n=t.all(e);n.customDELETE(a.id).then(function(){r.$broadcast("refreshGRID"),r.$broadcast("data-grid-updated",{type:e.split("/").pop()})},function(e){c.warning(e.data.error.message)})},e.newDetailData=function(t,a,n){if(e.data[a]=e.data[a]||[],n){var i=e.headers[t][a];i.route_detail?i.route=i.route_detail:i.route=e.headers.route+"/details/"+a,f.createCRUDModal(i,null,null,null,e).then(function(t){t["new"]=!0,e.data[a].push(t)})}else{var o={},l=e.headers[t][a].fields;for(var r in l)"boolean"!=l[r].type?o[l[r].name]=null:o[l[r].name]=!1;o["new"]=!0,e.data[a].push(o),e.$apply()}},e.editDetailData=function(t,a,n){var i=e.headers[t][a];i.route_detail?i.route=i.route_detail:i.route=e.headers.route+"/details/"+a,f.createCRUDModal(i,n,null,null,e).then(function(t){e.data[a][e.data[a].indexOf(n)]=t})},e.deleteDetailData=function(e,t){window.confirm(m.translate("letsfw.message_delete"))&&this.data[t].splice(this.data[t].indexOf(e),1)}}])}(),function(){"use strict";var e=angular.module("letsAngular");e.controller("CRUDEditDetailController",["$scope","Restangular","$http","$stateParams","$timeout","headers","$rootScope","$modalInstance","$q","ngToast","Upload","locale",function(e,t,a,n,i,o,l,r,s,c,d,u){e.data={},e.headers=o,e.resource=t.all(o.route),e.autocompleteModels={},e.doafterAutoCompleteSelect={},e.$http=a;var f=o.parentScope;delete o.parentScope,o.modal_id&&(l.$emit("open:"+o.modal_id,e),f&&f.$emit("open:"+o.modal_id,e)),e.datepickers={},e.datepickerToggle=function(t){void 0==e.datepickers[t]&&(e.datepickers[t]=!1),e.datepickers[t]=!e.datepickers[t]};for(var p in e.headers.fields){var m=e.headers.fields[p];"boolean"==m.type&&(e.data[m.name]=!1)}if(o.id)e.resource.customGET(o.id).then(function(t){for(var a in e.headers.fields){var n=e.headers.fields[a];if("date"==n.type&&void 0!=t[n.name]&&null!=t[n.name]){var o=new Date(t[n.name]);o.setHours(o.getHours()+o.getTimezoneOffset()/60),t[n.name]=o}n.customOptions&&void 0!=n.customOptions.list&&n.customOptions.list.forEach(function(e){e.id==t[n.name]&&(t[n.name+".label"]=e.label)}),"password"==n.type&&(n.notnull=!1)}e.data=t,i(function(){e.$broadcast("setProgressFile")}),e.$emit("data-loaded-detail")});else{i(function(){e.$emit("data-new-detail")},50);for(var p in e.headers.fields){var m=e.headers.fields[p];"boolean"==m.type&&(e.data[m.name]=m.customOptions["default"]?m.customOptions["default"]:!1)}}i(function(){e.submit=function(){function t(){if(e.data.id)var t=e.resource.customPUT(e.data,e.data.id),i="edit";else var t=e.resource.customPOST(e.data,n.id),i="new";t.then(function(t){function a(){l.$broadcast("refreshGRID"),r.dismiss("success")}e.$emit("after save",a,t,i),e.$$listeners["after save"]||a()},function(t){function n(e){for(var t in a.headers.fields){var n=a.headers.fields[t];if(n.name==e)return n.label}}var i=[];if(422==t.status)if("CANT_SAVE_MODEL"==t.data.error.code)i.push(t.data.error.message);else if(t.data.error.details){var o=t.data.error.details.codes,l={presence:"O campo %s é obrigatório",absence:"O campo %s deve ser nulo","unknown-property":"O campo %s não foi definido",length:{min:"O campo %s é muito curto",max:"O campo %s é muito longo",is:"O campo %s está com tamanho inválido"},common:{blank:"O campo %s está em branco","null":"O campo %s está nulo"},numericality:{"int":"O campo %s não é um número inteiro",number:"O campo %s não é um número"},inclusion:"O campo %s não foi incluído na lista",exclusion:"O campo %s não pode ser excluído",uniqueness:"O campo %s está repetido com o de outro registro","custom.email":"Este email não é válido"};_.each(o,function(e,t){var a=n(t);"string"==typeof e&&(e=[e]),_.each(e,function(e,t){var n=l[e].replace("%s",a);i.push(n)})})}else i.push(t.data.error.message);c.warning(i.join("<br />")),e.$emit("error save",t)})}var a=this,i={},o=a.data;if(_.each(a.headers.fields,function(e,t){"password"==e.type&&0!=e.name.indexOf("confirm")&&o["confirm_"+e.name]!=o[e.name]&&(i.password='Os campos "'+e.label+'" e "Confirmar '+e.label+'" não são iguais')}),Object.keys(i).length>0){var s=new Array;_.each(i,function(e,t){s.push(e)}),c.warning(s.join("<br />"))}else this.crudForm.$valid&&(e.$emit("before save",t),e.$$listeners["before save"]||t())},e.cancel=function(){r.dismiss("success")},e._upload=function(e,t){var a=l.appSettings.API_URL;return void 0!=e.customOptions.file.url&&void 0==e.customOptions.file.container?a+=e.customOptions.file.url:void 0==e.customOptions.file.url&&void 0!=e.customOptions.file.container?a+="upload/"+e.customOptions.file.container+"/upload":void 0!=e.customOptions.file.url&&void 0!=e.customOptions.file.container&&(a+="upload/"+e.customOptions.file.container+"/"+e.customOptions.file.url),d.upload({url:a,data:{file:t}})},e.download=function(t,a){if(void 0!=t.customOptions.file.container)var n=l.appSettings.API_URL+"upload/"+t.customOptions.file.container+"/download/"+e.data[t.name];else var n=l.appSettings.API_URL+e.module+"/download/"+t.name+"/"+a;e._download(n,t,e.data)},e.downloadDetail=function(t,a,n,i){if(void 0!=a.customOptions.file.container)var o=l.appSettings.API_URL+"upload/"+a.customOptions.file.container+"/download/"+i[a.name];else var o=l.appSettings.API_URL+e.module+"/details/"+t+"/download/"+a.name+"/"+n;e._download(o,a,i)},e._download=function(t,a,n){this.$http({method:"GET",url:t,responseType:"arraybuffer"}).success(function(t,i,o){if(o=o(),void 0!=a.customOptions.file.container)var l=n[a.name];else var l=o["content-disposition"].split(";")[1].split("=")[1].split('"')[1];var r=o["content-type"],s=new Blob([t],{type:r});e.downloadFile(s,l)})},e.downloadFile=function(e,t){var a=document.createElement("a");try{var n=window.URL.createObjectURL(e);a.setAttribute("href",n),a.setAttribute("download",t);var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(i)}catch(o){}},e._autocomplete=function(t,a,n){var i=[],o=s.defer();if(t.autocomplete_dependencies.length>0){var l=t.autocomplete_dependencies;for(var r in l){var c=l[r];if(void 0==e.data[c.field]||null==e.data[c.field]){var d=u.translate("letsfw.select_before").replace("%name%",c.label.toLocaleLowerCase()).replace("%gender%",c.gender?c.gender:"o(a)");if(c.custom)var d=c.label;var f=[];return f.push({id:null,label:d}),o.resolve(f),o.promise}e.data[c.field].id?i[c.field]=e.data[c.field].id:i[c.field]=e.data[c.field]}}if(a=a.trim(),(0==a.length||1==t.customOptions.select)&&(a="[blank]"),void 0==t.customOptions.list){var p="autocomplete/"+t.name+"/"+a;1==t.customOptions.select?i.limit=0:i.limit=20,e.resource.customGET(p,i).then(function(e){var n=e.length>0;0==e.length&&e.unshift({id:null,label:u.translate("letsfw.no_record_found")}),1==t.customOptions.select&&n&&e.unshift({id:null,label:"--- "+u.translate("letsfw.select")+" ---"}),t.quickAdd===!0&&"[blank]"!=a&&e.push({id:null,label:u.translate("letsfw.add_new")+": "+a}),o.resolve(e)},function(){return o.reject()})}else{var m=angular.copy(t.customOptions.list)||[];1==t.customOptions.select&&m.unshift({id:null,label:"--- "+u.translate("letsfw.select")+" ---"}),o.resolve(m)}return o.promise},e._autocompleteSelect=function(t,a,n,o){if(null!=t.id&&"integer"!=typeof t.id||"integer"==typeof t.id&&t.id>0)this.data[this.field.name]=t.id;else{if(null!=t.id)return this.data[this.field.name+".label"]=null,!1;this.data[this.field.name]=this.data[this.field.name+".label"]=null}"function"==typeof e.doafterAutoCompleteSelect[this.field.name]&&e.doafterAutoCompleteSelect[this.field.name].call(this,this.data,t,a,n);var l=this.field;i(function(){jQuery("#"+l.name).trigger("keyup")})},e.autocomplete=function(e,t){return this._autocomplete(e,t,null)},e.autocompleteDetail=function(e,t,a){return this._autocomplete(t,a,e)},e.autocompleteSelect=function(e,t,a,n){this._autocompleteSelect(t,a,n,null)},e.autocompleteDetailSelect=function(e,t,a,n){this._autocompleteSelect(t,a,n,e)}},500)}])}(),angular.module("letsAngular").run(["$templateCache",function(e){e.put("lets/views/crud/crud-detail-list.html",'<table class="table detail-table"><thead><tr><th ng-repeat="field in detail.fields | filter: {viewable: true}" ng-if="detail.modal===true">{{field.label}}</th><th ng-repeat="field in detail.fields | filter: {editable: true}" ng-if="!detail.modal">{{field.label}}</th><th ng-if="detail.settings === undefined|| (detail.settings.edit || detail.settings.delete)" class="text-center">{{\'letsfw.actions\'|locale}}</th></tr></thead><tbody><tr ng-repeat="detail_data in data[detail_key]" ng-class="{\'new\': detail_data.new != undefined}"><td ng-repeat="field in detail.fields | filter: {viewable: true}" ng-if="detail.modal===true"><fw-detail-data ng-if="detail.modal"></fw-detail-data></td><td ng-repeat="field in detail.fields | filter: {editable: true}" ng-if="!detail.modal"><fw-input ng-if="!detail.modal" fw-data="detail_data"></fw-input></td><td ng-if="detail.settings === undefined|| (detail.settings.edit || detail.settings.delete)" class="text-center"><button type="button" class="btn btn-edit btn-default" ng-if="detail.settings === undefined || (detail.modal===true && detail.settings.edit)" ng-click="editDetailData(\'tabs_session\', detail_key, detail_data)"><span class="glyphicon glyphicon-pencil"></span></button> <button type="button" class="btn btn-delete btn-default" ng-if="detail.settings === undefined || detail.settings.delete" ng-click="deleteDetailData(detail_data, detail_key)"><span class="glyphicon glyphicon-remove"></span></button></td></tr><tr ng-if="!data[detail_key] || data[detail_key].length==0" class="no-data"><td colspan="100%">{{\'letsfw.no_record_found\'|locale}}</td></tr></tbody></table>'),e.put("lets/views/crud/crud-edit.html",'<div class="row"><crud-breadcrumb></crud-breadcrumb></div><section class="widget"><div class="widget-body"><form class="form-horizontal" role="form" ng-submit="submit(this)" crud-form="" name="crudForm" headers="{{headers}}" novalidate="" autocomplete="off"><ng-include src="\'lets/views/crud/crud-form.html\'"></ng-include></form></div></section>'),e.put("lets/views/crud/crud-filter.html",'<div class="filtros"><form ng-submit="filterData(true)"><div class="busca row" ng-if="!hideInputSearch"><div class="form-group col-sm-5" style="margin-bottom: 10px;"><div class="fw-input-group input-group"><input autocomplete="off" type="text" class="form-control" name="q" ng-model="data[\'q\']" ng-disabled="showBuscaAvancada" placeholder="{{\'letsfw.search_by\'|locale}}..."> <span class="input-group-btn" ng-if="fieldsFilter.length > 0"><button type="button" class="btn btn-default" title="{{\'letsfw.search_advanced\'|locale}}" ng-click="openBuscaAvancada()"><i class="glyphicon" ng-class="{\'glyphicon-plus\': !showBuscaAvancada, \'glyphicon-minus\': showBuscaAvancada}"></i></button></span> <span ng-if="clearButton && fieldsFilter.length > 0" class="input-group-btn"><button type="button" class="btn btn-default" title="{{\'letsfw.clear_filter\'|locale}}" ng-click="clearBusca()"><i class="glyphicon glyphicon-erase"></i> <span class="hidden-xs">{{\'letsfw.clear_filter\'|locale}}</span></button></span> <button type="submit" style="width: 0px; opacity: 0"></button></div></div><div class="clearfix"></div></div><div class="busca-avancada row" collapse="!showBuscaAvancada"><div class="form-group" style="margin-bottom: 10px; margin-right: 0px; min-width: 200px;" ng-repeat="field in fieldsFilter track by $index" ng-class="field.filter.customClass ? field.filter.customClass : (field.filter.size ? \'col-sm-\'+field.filter.size : (field.filter.range===true ? \'col-sm-2\' : \'col-sm-3\'))"><label for="{{field.name}}" class="control-label" style="font-size:12px; margin-bottom: 0px;font-weight: 600">{{field.label}}</label><fw-input fw-data="data"></fw-input></div><div class="form-group col-sm-2"><label class="control-label" style="font-size:12px; margin-bottom: 0px;">&nbsp;</label><div><button type="submit" class="btn btn-primary"><span class="icon fa fa-search"></span>{{\'letsfw.search\'|locale}}</button></div></div><div class="clearfix"></div></div></form></div>'),e.put("lets/views/crud/crud-form-input.html",'<div class="form-group" ng-repeat="field in fields | filter: filter" ng-if="!auto_layout"><label for="{{field.name}}" class="col-sm-2 control-label no-padding">{{field.label}} <span ng-if="field.required">*</span></label><div class="col-sm-9"><fw-input fw-data="data"></fw-input></div></div><div class="form-group form-auto-layout" ng-repeat="field in fields | filter: filter" ng-class="field.size ? \'col-sm-\'+field.size : field.type == \'text\' ? \'col-sm-12\' : (field.type == \'date\' || field.type == \'time\' || field.type == \'boolean\' || ((field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete)) ? \'col-sm-3\' : \'col-sm-6\'" ng-if="auto_layout"><label for="{{field.name}}" class="control-label">{{field.label}} <span ng-if="field.required">*</span> <i ng-if="field.help" class="fa fa-info-circle" title="{{field.help}}" style="cursor:help; font-size:12px;"></i></label><fw-input fw-data="data"></fw-input></div>'),e.put("lets/views/crud/crud-form.html",'<div><div class="fixed-caption-block" ng-if="headers.fixed_tab"><fieldset><legend><strong>{{\'letsfw.main_information\'|locale}}</strong></legend><ng-include ng-if="beforeForm != undefined" src="beforeForm"></ng-include><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={tab: \'fixed\', editable: true}"></ng-include><ng-include ng-if="afterForm != undefined" src="afterForm"></ng-include></fieldset></div><tabset class="tab-group" ng-class="{\'hide-nav\': (_.size(headers.tabs) == 0 && _.size(headers.main_tabs) == 0 && _.size(headers.tabs_session) == 0)}"><tab ng-if="headers.main_tabs == undefined" heading="{{headers.label_row}}"><fieldset><legend><strong>{{\'letsfw.main_information\'|locale}}</strong></legend><ng-include ng-if="beforeForm != undefined" src="beforeForm"></ng-include><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={editable: true}"></ng-include><ng-include ng-if="afterForm != undefined" src="afterForm"></ng-include></fieldset></tab><tab ng-if="headers.main_tabs != undefined" ng-repeat="tab in headers.main_tabs" heading="{{tab}}"><fieldset><ng-include src="\'lets/views/crud/crud-form-input.html\'" ng-init="auto_layout=headers.auto_layout; fields=headers.fields; filter={tab: $index, editable: true}"></ng-include></fieldset></tab><tab ng-if="!detail.hide" ng-repeat="(detail_key, detail) in headers.tabs_session" heading="{{detail.label}}"><fieldset><ng-include src="\'lets/views/crud/crud-detail-list.html\'"></ng-include><div ng-if="(!detail.settings) || (detail.settings && detail.settings.add)" class="pull-right"><button type="button" class="btn btn-primary button-new" origin="tabs_session" detail="{{detail_key}}" form-modal="{{detail.modal ? true : false}}"><span class="icon fa fa-plus"></span>{{\'letsfw.new_record\'|locale}}</button></div></fieldset></tab><tab ng-if="data.id != null && !tab.hide" ng-repeat="(tab_name, tab) in headers.tabs" heading="{{tab.label}}"><div ng-if="tab.fields && !tab.templateUrl"><section class="" grid="{{tab_name}}" crud-list="" crud-list-settings="{url: headers.route + \'/details/\' + data.id + \'/\' + tab_name, fields: tab.fields, tab: true, settings: (tab.settings || headers.settings), filterScope: tab.filterScope, sort:tab.sort, tableClass: tab.tableClass}"><div class="filter-tab" style="margin-top: 15px;"><div class="visible-xs" style="margin-bottom: 15px;"><a class="btn btn-primary btn-block btn-new" ng-click="newDetail(tab, data)" ng-hide="tab.settings && !tab.settings.add"><span class="fa fa-plus"></span> {{\'letsfw.new_record\'|locale}}</a></div><div style="position: absolute; right:15px; z-index:99" class="hidden-xs"><a class="btn btn-primary btn-block btn-new" ng-click="newDetail(tab, data)" ng-hide="tab.settings && !tab.settings.add"><span class="fa fa-plus"></span> {{\'letsfw.new_record\'|locale}}</a></div><div class="row"><div class="col-sm-12"><div crud-filter="" fields="tab.fields" route="headers.route + \'/details/\' + data.id + \'/\' + tab_name" grid="{{tab_name}}"></div></div></div></div><div class="widget-body"><div class="table-container" tab-config="{{tab}}"></div></div></section></div><div ng-if="tab.templateUrl"><ng-include src="tab.templateUrl"></ng-include></div></tab></tabset><div class="form-actions"><div class="row"><div class="col-sm-offset-4 col-sm-7"><button ng-if="!headers.disabled" type="submit" class="btn btn-big btn-primary" ng-class="{\'disabled\': loading_http_request}"><span class="icon fa fa-floppy-o"></span>{{\'letsfw.save\'|locale}}</button> <button type="button" class="btn btn-big btn-inverse" ng-click="cancel()"><span class="icon fa fa-undo"></span>{{\'letsfw.cancel\'|locale}}</button></div></div></div></div>'),e.put("lets/views/crud/crud-list.html",'<div class="row"><crud-breadcrumb></crud-breadcrumb><div class="col-sm-3 col-lg-2 text-right" ng-if="headers.settings.add" style="margin-bottom: 10px;"><a class="btn btn-primary btn-block btn-new" ng-click="goNew()"><span class="icon fa fa-plus"></span>{{\'letsfw.new_record\'|locale}}</a></div></div><div class="row d-flex" style="justify-content: flex-end;"><div class="col-sm-3 col-lg-2 text-right" ng-if="headers.settings.export" style="margin-bottom: 10px;"><a class="btn btn-primary outline-btn btn-block btn-new" ng-disabled="export_btn_is_disable" ng-click="export()"><span class="icon fa fa-share"></span>Exportar Dados</a></div></div><section grid="main" class="widget" crud-list="" crud-list-settings="{url: headers.route, fields: headers.fields, tab: false, settings: headers.settings, filterScope: headers.settings.filterScope, sort:headers.settings.sort, tableClass: headers.tableClass}"><header class="crud-list-header row hidden-xs" style="display: flex;"><h4>{{headers.label}}</h4></header><div crud-filter="" clear-button="headers.clearButton" fields="headers.fields" route="headers.route" search="headers.search" grid="main" style="margin-top: 15px;"></div><div class="widget-body"><div class="table-container"></div></div></section>'),e.put("lets/views/crud/crud-modal.html",'<section class="widget"><div class="widget-body"><form class="form-horizontal" role="form" ng-submit="submit(this)" crud-form="" name="crudForm" headers="{{headers}}" novalidate=""><ng-include src="\'lets/views/crud/crud-form.html\'"></ng-include></form></div></section>'),e.put("lets/views/crud/crud-tab-list.html","<div><div class=\"row btn-tab\"><div class=\"col-md-4 col-lg-4 col-xs-4 pull-right\"><a class=\"btn btn-primary btn-block button-new\" origin=\"tabs\" ng-click=\"$parent.openTabModal(type)\"><span class=\"fa fa-plus\"></span> Novo {{headers['tabs'][type].label_row}}</a></div></div><section class=\"widget\" crud-list=\"\" crud-list-settings=\"{ url: headers['tabs'][type].tab_route + (headers['tabs'][type].data_path != undefined ? data[headers['tabs'][type].data_path].id : data.id) + '/' + headers['tabs'][type].label_stem, mainRoute: headers['tabs'][type].tab_route, fields: headers['tabs'][type].fields, tab: true, settings: headers['tabs'][type].settings, type: headers['tabs'][type].custom ? headers['tabs'][type].label_stem : type }\"><div class=\"widget-body\"><div class=\"table-container\"></div></div></section></div>"),e.put("lets/views/crud/crud.html",'<div ui-view=""></div>'),e.put("lets/views/framework/breadcrumb.html",'<div class="col-sm-9 col-lg-10"><ol class="breadcrumb"><li><a ui-sref="app.dashboard">Home</a></li><li class="active"><a ng-click="goToList()">{{headers.label}}</a></li></ol></div>'),e.put("lets/views/framework/chart.html",'<section class="widget"><header class="row"><h4>Relatório de <span class="fw-semi-bold">{{key}}</span></h4></header><div data-name="filter" style="margin-top: .5em;"><div class="col-sm-6 col-lg-6" style="padding: 0;"><label for="">Data de Início</label> <input type="text" ng-model="$parent.d3chartStartDate" fw-date-picker="true" fw-date-picker-ng-model-parent="true" data-date-format="DD/MM/YYYY" disabled="true"></div><div class="col-sm-6 col-lg-6" style="padding: 0;"><label for="">Data de Fim</label> <input type="text" ng-model="$parent.d3chartEndDate" fw-date-picker="true" fw-date-picker-ng-model-parent="true" data-date-format="DD/MM/YYYY" disabled="true"></div></div><div class="widget-body"><div data-nvd3-chart="" data-chart="d3chartConfig" data-datum="d3chartData"><svg class=""></svg></div></div></section>'),e.put("lets/views/framework/input-detail.html",'<div><input ng-if="field.type != \'boolean\'" "="" class="main-input form-control" fw-dynamic="" ng-required="field.notnull" ng-show="field.autocomplete === false" type="text" ng-model="detail_data[field.name]"> <input ng-if="field.type == \'boolean\'" ng-required="field.notnull" type="checkbox" id="{{field.name}}" data-ui-switch="{size: \'small\'}" data-ng-model="detail_data[field.name]"> <input typeahead-on-select="autocompleteDetailSelect(detail_key, $item, $model, $label)" aria-autocomplete="none" autocomplete="false" typeahead-min-length="3" typeahead="row as row.label for row in $parent.autocompleteDetail(detail_key, field, $viewValue)" ng-if="field.autocomplete !== false" ng-required="field.notnull" type="text" class="form-control" ng-model="detail_data[field.name + \'.label\']" placeholder="{{field.label}}"></div>'),
e.put("lets/views/framework/input.html",'<div class="input-container" data-name="{{field.name}}"><div ng-if="field.type == \'float\' && field.customOptions.currency"><div class="fw-input-group"><span ng-if="field.customOptions.currency != undefined" class="input-group-addon">R$</span> <input ng-if="field.customOptions.min" step="0.5" data-parsley-pattern="^\\d{1,3}(?:\\.\\d{3})*,\\d{2}$" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.min}}"> <input ng-if="!field.customOptions.min" step="0.5" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div></div><div ng-if="field.type == \'float\' && !field.customOptions.currency"><input step="0.5" data-parsley-type="number" lang="pt-BR" ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.min}}"></div><div ng-if="(field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete && !field.customOptions.range"><input ng-model-options="{fieldInfo: field}" type="text" id="{{field.name}}" string-to-number="" numbers-only="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div><div ng-if="(field.type == \'number\' || field.type == \'integer\' || field.type == \'bigint\') && !field.autocomplete && field.customOptions.range"><input ng-model-options="{fieldInfo: field}" type="number" id="{{field.name}}" ng-required="{{field.notnull}}" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" min="{{field.customOptions.range.min}}" max="{{field.customOptions.range.max}}"></div><div ng-if="field.type == \'string\' && (!field.customOptions.file && !field.customOptions.email && !field.autocomplete)"><input ng-model-options="{fieldInfo: field}" name="{{field.name}}" type="text" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div><div ng-if="field.type == \'colorpicker\' && (!field.customOptions.file && !field.customOptions.email && !field.autocomplete)"><input ng-model-options="{fieldInfo: field}" name="{{field.name}}" type="text" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off" colorpicker=""></div><div ng-if="field.type == \'simplecolor\'"><input ng-model-options="{fieldInfo: field}" color-picker="" color-me="true" name="{{field.name}}" type="text" id="{{field.name}}" set-colors="{{field.customOptions.colors}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" size="{{field.length}}" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div><div ng-if="field.type == \'tags\'"><fw-tags ng-model-options="{fieldInfo: field}" fw-tags="" tags="data[field.name]" name="{{field.name}}"></fw-tags></div><div ng-if="field.type == \'password\'"><input ng-model-options="{fieldInfo: field}" type="password" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div><div ng-if="field.type == \'string\' && field.customOptions.email"><input ng-model-options="{fieldInfo: field}" type="email" id="{{field.name}}" string-to-number="" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" class="main-input form-control" autocomplete="off"></div><div ng-if="field.type == \'custom\'"><div ng-bind-html="fieldHtml()"></div></div><div ng-if="field.type == \'date\'"><input ng-model-options="{fieldInfo: field, allowInvalid: true}" type="text" fw-date-picker="true" fw-dynamic="" ng-required="field.notnull" id="{{field.name}}" name="{{field.name}}" ng-model="$parent.data[field.name]" class="form-control" data-date-format="DD/MM/YYYY" placeholder="DD/MM/YYYY" ng-disabled="field.disabled" autocomplete="off"><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">A data informada é inválida.</li></ul></div><div ng-if="field.type == \'time\'"><timepicker ng-model="$parent.data[field.name]" ng-disabled="field.disabled" hour-step="field.customOptions.timepicker.hstep || 1" minute-step="field.customOptions.timepicker.mstep || 1" show-meridian="field.customOptions.timepicker.meridian"></timepicker><ul class="parsley-errors-list filled" ng-if="field.error"><li class="parsley-required">O horário informado é inválido.</li></ul></div><div ng-if="field.type == \'string\' && field.customOptions.file && !field.customOptions.dad"><div fw-upload="" class="fw-input-group"><div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{f.progress || defaultProgress}}" aria-valuemin="0" aria-valuemax="100" style="text-align: left; min-width: 2em;" ng-style="{\'width\': \'{{f.progress || defaultProgress}}%\'}" ng-if="(f.progress != undefined && f.progress != 0) || defaultProgress != 0"><span ng-if="f.progress != undefined && f.progress != 0">{{f.progress + \'%\'}} <span style="display: inline-block; width: 89%;" ng-if="f.progress == 100 && !f.newName">{{f.name}}</span> <span style="display: inline-block; width: 89%;" ng-if="f.progress == 100 && f.newName">{{f.newName}}</span></span> <span ng-if="f == undefined || f.progress == undefined" ng-bind="$parent.data[field.name]"></span></div></div><input ng-model-options="{fieldInfo: field}" type="hidden" class="form-control" name="temp_filename" ng-model="$parent.data[field.name]" id="{{field.name}}" ng-required="field.notnull" autocomplete="off"> <span class="input-group-btn"><button ng-if="alreadySent == false || field.customOptions.only_upload == true" type="file" accept="{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'all\'}}" ngf-pattern="\'{{ field.customOptions.file.acceptedFiles ? field.customOptions.file.acceptedFiles.join(\',\') : \'\'}}\'" ngf-select="upload($file, $invalidFiles)" class="btn btn-default btn-upload"><i class="glyphicon glyphicon-upload"></i></button> <button ng-if="alreadySent == true && (field.customOptions.only_upload != true)" ng-click="download(field, data.id)" type="button" class="btn btn-default"><i class="glyphicon glyphicon-download"></i></button></span></div></div><div ng-if="field.type == \'string\' && field.customOptions.file && field.customOptions.dad"><div fw-upload="" class="fw-input-group"><input ng-model-options="{fieldInfo: field}" type="hidden" class="form-control" name="temp_filename" ng-model="$parent.data[field.name]" id="{{field.name}}" ng-required="field.notnull" autocomplete="off" value="fileName"><p class="file-preview" ng-if="alreadySent == true" style="margin-right: 2rem; text-align:center;"><i class="fa fa-file-o" aria-hidden="true" style="font-size: 3.333333em;line-height: 1.75em;"></i> <a class="dz-open" ng-click="download(field, data.id)">{{fileName}}</a> <a class="dz-open" ng-click="download(field, data.id)" data-dz-download="">Baixar Arquivo</a> <a class="dz-remove" ng-click="remove(fileName)" style="color: red" data-dz-remove="">Remover Arquivo</a></p><div class="dropzone" options="dzOptions" callbacks="pushName()" methods="dzMethods" ng-dropzone=""></div></div></div><div ng-if="field.type == \'text\' && !field.customOptions.rich"><textarea ng-model-options="{fieldInfo: field}" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" ng-disabled="field.disabled" placeholder="{{field.customOptions.placeholder ? field.customOptions.placeholder : \'\'}}" class="main-input form-control" rows="{{field.customOptions.rows}}"></textarea></div><div ng-if="field.type == \'text\' && field.customOptions.rich"><textarea ckeditor="{\'language\':\'pt-br\'}" ng-model-options="{fieldInfo: field}" id="{{field.name}}" fw-dynamic="" ng-required="field.notnull" ng-model="data[field.name]" class="main-input form-control" ng-disabled="field.disabled"></textarea></div><div ng-if="field.type == \'boolean\'"><label for="{{field.name}}"><toggle id="{{field.name}}" ng-model-options="{fieldInfo: field}" ng-model="data[field.name]" name="{{field.name}}" on="{{field.customOptions.statusTrueText}}" off="{{field.customOptions.statusFalseText}}" size="btn-sm" ng-if="!field.disabled"></toggle><span ng-if="field.disabled">{{$parent.data[field.name] ? field.customOptions.statusTrueText : field.customOptions.statusFalseText}}</span></label></div><div ng-if="field.type == \'checkbox\'" class="d-flex flex-row"><div ng-repeat="campo in field.customOptions.list"><div class="circle-group"><input type="checkbox" ng-false-value="undefined" class="input-control circle" id="{{field.name + campo.id}}" ng-model="data[field.name][campo.id]" ng-true-value="{{campo.id}}"> <label for="{{field.name + campo.id}}">{{campo.label}}</label></div></div></div><div ng-if="field.type == \'multiselect\'"><div class="fw-multiselect-content"><div data-element="" id="{{field.name}}" name="{{field.name}}" ng-dropdown-multiselect="" fw-multi-select="" data-reference="{{field.name}}" class="ng-dropdown-multiselect" ng-click="onInitMulti($event, field)" events="{\'onSelectionChanged\':changedMultiSelect,\'onItemSelect\':onItemSelect,\'onItemDeselect\':onItemDeselect}" translation-texts="{\'buttonDefaultText\': \'Selecione ...\', \'dynamicButtonTextSuffix\':\'selecionado(s)\'}" options="msdata" extra-settings="{scrollableHeight: \'200px\', scrollable: true, buttonDefaultText: \'Tipos de {field.label}\', enableSearch: true, styleActive: true, showCheckAll: false, showUncheckAll: false, selectedToTop: true, buttonClasses: \'btn btn-default fw-multiselect-button\'}" selected-model="msmodel" ng-model="data[msmodel]"></div><span class="input-group-btn" ng-click="openDropdownByButton(field.name)"><button type="button" class="btn btn-default"><i class="glyphicon glyphicon-menu-down"></i></button></span></div></div><div ng-if="field.autocomplete && !field.customOptions.autocomplete_table"><div fw-auto-complete="" class="fw-input-group fw-auto-complete input-group"><input id="{{field.name}}" ng-model-options="{fieldInfo: field}" fw-auto-complete="" typeahead-on-select="autocompleteSelect($item, $model, $label)" aria-autocomplete="none" autocomplete="off" typeahead-min-length="0" typeahead="row as row.label for row in autocomplete(field, $viewValue)" type="text" class="form-control" name="{{field.name}}" ng-required="field.notnull" ng-model="$parent.data[field.name + \'.label\']" size="{{field.length}}" placeholder="{{field.label}}" ng-disabled="field.disabled" ng-readonly="field.customOptions.select == true" ng-class="{\'fieldSelect\': field.customOptions.select == true}"> <span ng-show="!field.disabled && $parent.data[field.name]" style="position: absolute; top: 2px; right: 42px; z-index: 2; cursor: pointer; padding: 8px; background-color: white;" class="icon fa fa-close"></span> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-disabled="field.disabled"><i class="glyphicon" ng-class="{\'glyphicon-search\': field.customOptions.select == undefined, \'glyphicon-menu-down\': field.customOptions.select == true}"></i></button></span></div></div><div ng-if="field.autocomplete && field.customOptions.autocomplete_table"><div fw-auto-complete="" class="fw-input-group fw-auto-complete input-group"><input style="display:none" id="{{field.name}}" ng-model-options="{fieldInfo: field}" fw-auto-complete="" typeahead-on-select="autocompleteSelect($item, $model, $label)" aria-autocomplete="none" autocomplete="off" typeahead-min-length="0" typeahead="row as row.label for row in autocomplete(field, $viewValue)" type="text" class="form-control" name="{{field.name}}" ng-required="field.notnull" ng-model="$parent.data[field.name + \'.label\']" size="{{field.length}}" placeholder="{{field.label}}" ng-disabled="field.disabled"></div><div fw-auto-complete-table="" data-name="{{field.name}}"><div class="fw-input-group fw-auto-complete input-group"><input type="text" id="input-ac-table" ng-model="$parent.data[field.name + \'.label\']" ng-model-options="{fieldInfo: field, debounce: 500}" class="form-control" autocomplete="off" ng-change="updateAutocompleteTable(field.customOptions.autocomplete_table.table_name,field.customOptions.autocomplete_table.table_columns[0].name, this)" ng-focus="autocompleteTableFocus(field.customOptions.autocomplete_table.table_name)" ng-blur="autocompleteTableLostFocus()" ng-disabled="field.disabled"> <span class="input-group-btn"><button type="button" class="btn btn-default"><i class="glyphicon" ng-class="{\'glyphicon-search\': field.customOptions.select == undefined, \'glyphicon-menu-down\': field.customOptions.select == true}"></i></button></span></div><div ng-if="field.customOptions.autocomplete_table != undefined" ng-show="tableVisibily" ng-model-options="{fieldInfo: field}"><div class="table-container"><table id="myTable" class="table table-striped"><thead><tr><th ng-repeat="column in field.customOptions.autocomplete_table.table_columns">{{column.label}}</th></tr></thead><tbody><tr ng-repeat="data in autocompleteTableData2" id="{{data.id}}" ng-mousedown="tableSelected($event,field.name,data)"><td ng-repeat="column in field.customOptions.autocomplete_table.table_columns">{{data[column.name]}}</td></tr></tbody></table></div></div></div></div></div>')}]);